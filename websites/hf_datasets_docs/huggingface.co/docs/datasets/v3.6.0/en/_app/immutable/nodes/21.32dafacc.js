import{s as jt,n as Ct,o as It}from"../chunks/scheduler.bdbef820.js";import{S as Ut,i as bt,g as o,s as l,r as k,A as _t,h as p,f as a,c as n,j as Jt,u as v,x as i,k as Tt,y as $t,a as s,v as G,d as Z,t as X,w as x}from"../chunks/index.c0aea24a.js";import{C as nt}from"../chunks/CodeBlock.e814ab8d.js";import{H as ot,E as kt}from"../chunks/index.89e522f3.js";function vt(pt){let d,R,B,q,m,H,r,Y,h,it="The Hugging Face Dataset Hub is home to a growing collection of datasets that span a variety of domains and tasks.",A,f,dt="Itâ€™s more than a cloud storage: the Dataset Hub is a platform that provides data versioning thanks to git, as well as a Dataset Viewer to explore the data, making it a great place to store AI-ready datasets.",S,u,mt="This guide shows how to import data from other cloud storage using the filesystems implementations from <code>fsspec</code>.",V,c,Q,g,rt=`Most cloud storage providers have a <code>fsspec</code> FileSystem implementation, which is useful to import data from any cloud provider with the same code.
This is especially useful to publish datasets on Hugging Face.`,W,w,ht="Take a look at the following table for some example of supported cloud storage providers:",E,y,ft='<thead><tr><th>Storage provider</th> <th>Filesystem implementation</th></tr></thead> <tbody><tr><td>Amazon S3</td> <td><a href="https://s3fs.readthedocs.io/en/latest/" rel="nofollow">s3fs</a></td></tr> <tr><td>Google Cloud Storage</td> <td><a href="https://gcsfs.readthedocs.io/en/latest/" rel="nofollow">gcsfs</a></td></tr> <tr><td>Azure Blob/DataLake</td> <td><a href="https://github.com/fsspec/adlfs" rel="nofollow">adlfs</a></td></tr> <tr><td>Oracle Cloud Storage</td> <td><a href="https://ocifs.readthedocs.io/en/latest/" rel="nofollow">ocifs</a></td></tr></tbody>',P,M,ut="This guide will show you how to import data files from any cloud storage and save a dataset on Hugging Face.",z,J,ct="Letâ€™s say we want to publish a dataset on Hugging Face from Parquet files from a cloud storage.",N,T,gt="First, instantiate your cloud storage filesystem and list the files youâ€™d like to import:",L,j,D,C,wt="Then you can create a dataset on Hugging Face and import the data files, using for example:",K,I,O,U,yt='Check out the <a href="https://huggingface.co/docs/huggingface_hub" rel="nofollow">huggingface_hub</a> documentation on files uploads <a href="https://huggingface.co/docs/huggingface_hub/en/guides/upload" rel="nofollow">here</a> if youâ€™re looking for more upload options.',tt,b,Mt="Finally you can now load the dataset using ðŸ¤— Datasets:",et,_,at,$,st,F,lt;return m=new ot({props:{title:"Cloud storage",local:"cloud-storage",headingTag:"h1"}}),r=new ot({props:{title:"Hugging Face Datasets",local:"hugging-face-datasets",headingTag:"h2"}}),c=new ot({props:{title:"Import data from a cloud storage",local:"import-data-from-a-cloud-storage",headingTag:"h2"}}),j=new nt({props:{code:"aW1wb3J0JTIwZnNzcGVjJTBBZnMlMjAlM0QlMjBmc3NwZWMuZmlsZXN5c3RlbSglMjIuLi4lMjIpJTIwJTIwJTIzJTIwczMlMjAlMkYlMjBnY3MlMjAlMkYlMjBhYmZzJTIwJTJGJTIwYWRsJTIwJTJGJTIwb2NpJTIwJTJGJTIwLi4uJTBBZGF0YV9kaXIlMjAlM0QlMjAlMjJwYXRoJTJGdG8lMkZteSUyRmRhdGElMkYlMjIlMEFwYXR0ZXJuJTIwJTNEJTIwJTIyKi5wYXJxdWV0JTIyJTBBZGF0YV9maWxlcyUyMCUzRCUyMGZzLmdsb2IoZGF0YV9kaXIlMjAlMkIlMjBwYXR0ZXJuKQ==",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> fsspec
<span class="hljs-meta">&gt;&gt;&gt; </span>fs = fsspec.filesystem(<span class="hljs-string">&quot;...&quot;</span>)  <span class="hljs-comment"># s3 / gcs / abfs / adl / oci / ...</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>data_dir = <span class="hljs-string">&quot;path/to/my/data/&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>pattern = <span class="hljs-string">&quot;*.parquet&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>data_files = fs.glob(data_dir + pattern)
[<span class="hljs-string">&quot;path/to/my/data/0001.parquet&quot;</span>, <span class="hljs-string">&quot;path/to/my/data/0001.parquet&quot;</span>, ...]`,wrap:!1}}),I=new nt({props:{code:"ZnJvbSUyMGh1Z2dpbmdmYWNlX2h1YiUyMGltcG9ydCUyMGNyZWF0ZV9yZXBvJTJDJTIwdXBsb2FkX2ZpbGUlMEFmcm9tJTIwdHFkbS5hdXRvJTIwaW1wb3J0JTIwdHFkbSUwQWRlc3RpbmF0aW9uX2RhdGFzZXQlMjAlM0QlMjAlMjJ1c2VybmFtZSUyRm15LWRhdGFzZXQlMjIlMEFjcmVhdGVfcmVwbyhkZXN0aW5hdGlvbl9kYXRhc2V0JTJDJTIwcmVwb190eXBlJTNEJTIyZGF0YXNldCUyMiklMEFmb3IlMjBkYXRhX2ZpbGUlMjBpbiUyMHRxZG0oZnMuZ2xvYihkYXRhX2RpciUyMCUyQiUyMHBhdHRlcm4pKSUzQSUwQSUyMCUyMCUyMCUyMHdpdGglMjBmcy5vcGVuKGRhdGFfZmlsZSklMjBhcyUyMGZpbGVvYmolM0ElMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBwYXRoX2luX3JlcG8lMjAlM0QlMjBkYXRhX2ZpbGUlNUJsZW4oZGF0YV9kaXIpJTNBJTVEJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwdXBsb2FkX2ZpbGUoJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwcGF0aF9vcl9maWxlb2JqJTNEZmlsZW9iaiUyQyUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMHBhdGhfaW5fcmVwbyUzRHBhdGhfaW5fcmVwbyUyQyUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMHJlcG9faWQlM0RkZXN0aW5hdGlvbl9kYXRhc2V0JTJDJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwcmVwb190eXBlJTNEJTIyZGF0YXNldCUyMiUyQyUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCk=",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> create_repo, upload_file
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> tqdm.auto <span class="hljs-keyword">import</span> tqdm
<span class="hljs-meta">&gt;&gt;&gt; </span>destination_dataset = <span class="hljs-string">&quot;username/my-dataset&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>create_repo(destination_dataset, repo_type=<span class="hljs-string">&quot;dataset&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> data_file <span class="hljs-keyword">in</span> tqdm(fs.glob(data_dir + pattern)):
<span class="hljs-meta">... </span>    <span class="hljs-keyword">with</span> fs.<span class="hljs-built_in">open</span>(data_file) <span class="hljs-keyword">as</span> fileobj:
<span class="hljs-meta">... </span>        path_in_repo = data_file[<span class="hljs-built_in">len</span>(data_dir):]
<span class="hljs-meta">... </span>        upload_file(
<span class="hljs-meta">... </span>            path_or_fileobj=fileobj,
<span class="hljs-meta">... </span>            path_in_repo=path_in_repo,
<span class="hljs-meta">... </span>            repo_id=destination_dataset,
<span class="hljs-meta">... </span>            repo_type=<span class="hljs-string">&quot;dataset&quot;</span>,
<span class="hljs-meta">... </span>        )`,wrap:!1}}),_=new nt({props:{code:"ZnJvbSUyMGRhdGFzZXRzJTIwaW1wb3J0JTIwbG9hZF9kYXRhc2V0JTBBZHMlMjAlM0QlMjBsb2FkX2RhdGFzZXQoJTIydXNlcm5hbWUlMkZteS1kYXRhc2V0JTIyKQ==",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> datasets <span class="hljs-keyword">import</span> load_dataset
<span class="hljs-meta">&gt;&gt;&gt; </span>ds = load_dataset(<span class="hljs-string">&quot;username/my-dataset&quot;</span>)`,wrap:!1}}),$=new kt({props:{source:"https://github.com/huggingface/datasets/blob/main/docs/source/filesystems.mdx"}}),{c(){d=o("meta"),R=l(),B=o("p"),q=l(),k(m.$$.fragment),H=l(),k(r.$$.fragment),Y=l(),h=o("p"),h.textContent=it,A=l(),f=o("p"),f.textContent=dt,S=l(),u=o("p"),u.innerHTML=mt,V=l(),k(c.$$.fragment),Q=l(),g=o("p"),g.innerHTML=rt,W=l(),w=o("p"),w.textContent=ht,E=l(),y=o("table"),y.innerHTML=ft,P=l(),M=o("p"),M.textContent=ut,z=l(),J=o("p"),J.textContent=ct,N=l(),T=o("p"),T.textContent=gt,L=l(),k(j.$$.fragment),D=l(),C=o("p"),C.textContent=wt,K=l(),k(I.$$.fragment),O=l(),U=o("p"),U.innerHTML=yt,tt=l(),b=o("p"),b.textContent=Mt,et=l(),k(_.$$.fragment),at=l(),k($.$$.fragment),st=l(),F=o("p"),this.h()},l(t){const e=_t("svelte-u9bgzb",document.head);d=p(e,"META",{name:!0,content:!0}),e.forEach(a),R=n(t),B=p(t,"P",{}),Jt(B).forEach(a),q=n(t),v(m.$$.fragment,t),H=n(t),v(r.$$.fragment,t),Y=n(t),h=p(t,"P",{"data-svelte-h":!0}),i(h)!=="svelte-pwg4if"&&(h.textContent=it),A=n(t),f=p(t,"P",{"data-svelte-h":!0}),i(f)!=="svelte-le6063"&&(f.textContent=dt),S=n(t),u=p(t,"P",{"data-svelte-h":!0}),i(u)!=="svelte-ei4lhv"&&(u.innerHTML=mt),V=n(t),v(c.$$.fragment,t),Q=n(t),g=p(t,"P",{"data-svelte-h":!0}),i(g)!=="svelte-1uadmic"&&(g.innerHTML=rt),W=n(t),w=p(t,"P",{"data-svelte-h":!0}),i(w)!=="svelte-1enr8yq"&&(w.textContent=ht),E=n(t),y=p(t,"TABLE",{"data-svelte-h":!0}),i(y)!=="svelte-40f5jy"&&(y.innerHTML=ft),P=n(t),M=p(t,"P",{"data-svelte-h":!0}),i(M)!=="svelte-tdsgr3"&&(M.textContent=ut),z=n(t),J=p(t,"P",{"data-svelte-h":!0}),i(J)!=="svelte-19vswnu"&&(J.textContent=ct),N=n(t),T=p(t,"P",{"data-svelte-h":!0}),i(T)!=="svelte-1fbzvas"&&(T.textContent=gt),L=n(t),v(j.$$.fragment,t),D=n(t),C=p(t,"P",{"data-svelte-h":!0}),i(C)!=="svelte-br8k8v"&&(C.textContent=wt),K=n(t),v(I.$$.fragment,t),O=n(t),U=p(t,"P",{"data-svelte-h":!0}),i(U)!=="svelte-drsgq7"&&(U.innerHTML=yt),tt=n(t),b=p(t,"P",{"data-svelte-h":!0}),i(b)!=="svelte-5gahax"&&(b.textContent=Mt),et=n(t),v(_.$$.fragment,t),at=n(t),v($.$$.fragment,t),st=n(t),F=p(t,"P",{}),Jt(F).forEach(a),this.h()},h(){Tt(d,"name","hf:doc:metadata"),Tt(d,"content",Gt)},m(t,e){$t(document.head,d),s(t,R,e),s(t,B,e),s(t,q,e),G(m,t,e),s(t,H,e),G(r,t,e),s(t,Y,e),s(t,h,e),s(t,A,e),s(t,f,e),s(t,S,e),s(t,u,e),s(t,V,e),G(c,t,e),s(t,Q,e),s(t,g,e),s(t,W,e),s(t,w,e),s(t,E,e),s(t,y,e),s(t,P,e),s(t,M,e),s(t,z,e),s(t,J,e),s(t,N,e),s(t,T,e),s(t,L,e),G(j,t,e),s(t,D,e),s(t,C,e),s(t,K,e),G(I,t,e),s(t,O,e),s(t,U,e),s(t,tt,e),s(t,b,e),s(t,et,e),G(_,t,e),s(t,at,e),G($,t,e),s(t,st,e),s(t,F,e),lt=!0},p:Ct,i(t){lt||(Z(m.$$.fragment,t),Z(r.$$.fragment,t),Z(c.$$.fragment,t),Z(j.$$.fragment,t),Z(I.$$.fragment,t),Z(_.$$.fragment,t),Z($.$$.fragment,t),lt=!0)},o(t){X(m.$$.fragment,t),X(r.$$.fragment,t),X(c.$$.fragment,t),X(j.$$.fragment,t),X(I.$$.fragment,t),X(_.$$.fragment,t),X($.$$.fragment,t),lt=!1},d(t){t&&(a(R),a(B),a(q),a(H),a(Y),a(h),a(A),a(f),a(S),a(u),a(V),a(Q),a(g),a(W),a(w),a(E),a(y),a(P),a(M),a(z),a(J),a(N),a(T),a(L),a(D),a(C),a(K),a(O),a(U),a(tt),a(b),a(et),a(at),a(st),a(F)),a(d),x(m,t),x(r,t),x(c,t),x(j,t),x(I,t),x(_,t),x($,t)}}}const Gt='{"title":"Cloud storage","local":"cloud-storage","sections":[{"title":"Hugging Face Datasets","local":"hugging-face-datasets","sections":[],"depth":2},{"title":"Import data from a cloud storage","local":"import-data-from-a-cloud-storage","sections":[],"depth":2}],"depth":1}';function Zt(pt){return It(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class Rt extends Ut{constructor(d){super(),bt(this,d,Zt,vt,jt,{})}}export{Rt as component};
