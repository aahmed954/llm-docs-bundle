import{s as Rs,n as Cs,o as _s}from"../chunks/scheduler.8c3d61f6.js";import{S as Xs,i as Vs,g as n,s as a,r,m as Qe,H as De,A as ks,h as o,f as l,c as i,j as qe,u as d,x as p,n as $e,E as Pe,k as w,l as vl,y as g,a as s,v as c,d as m,t as h,w as u}from"../chunks/index.da70eac4.js";import{C as y}from"../chunks/CodeBlock.a9c4becf.js";import{H as T,E as Es}from"../chunks/index.5d4ab994.js";function zs(Cl){let j,Ke,Le,Oe,X,et,V,_l=`<strong>Marigold</strong> is a diffusion-based <a href="https://huggingface.co/papers/2312.02145" rel="nofollow">method</a> and a collection of <a href="../api/pipelines/marigold">pipelines</a> designed for
dense computer vision tasks, including <strong>monocular depth prediction</strong>, <strong>surface normals estimation</strong>, and <strong>intrinsic
image decomposition</strong>.`,tt,k,Xl="This guide will walk you through using Marigold to generate fast and high-quality predictions for images and videos.",lt,E,Vl=`Each pipeline is tailored for a specific computer vision task, processing an input RGB image and generating a
corresponding prediction.
Currently, the following computer vision tasks are implemented:`,st,z,kl='<thead><tr><th>Pipeline</th> <th>Recommended Model Checkpoints</th> <th align="center">Spaces (Interactive Apps)</th> <th>Predicted Modalities</th></tr></thead> <tbody><tr><td><a href="https://github.com/huggingface/diffusers/blob/main/src/diffusers/pipelines/marigold/pipeline_marigold_depth.py" rel="nofollow">MarigoldDepthPipeline</a></td> <td><a href="https://huggingface.co/prs-eth/marigold-depth-v1-1" rel="nofollow">prs-eth/marigold-depth-v1-1</a></td> <td align="center"><a href="https://huggingface.co/spaces/prs-eth/marigold" rel="nofollow">Depth Estimation</a></td> <td><a href="https://en.wikipedia.org/wiki/Depth_map" rel="nofollow">Depth</a>, <a href="https://en.wikipedia.org/wiki/Binocular_disparity" rel="nofollow">Disparity</a></td></tr> <tr><td><a href="https://github.com/huggingface/diffusers/blob/main/src/diffusers/pipelines/marigold/pipeline_marigold_normals.py" rel="nofollow">MarigoldNormalsPipeline</a></td> <td><a href="https://huggingface.co/prs-eth/marigold-normals-v1-1" rel="nofollow">prs-eth/marigold-normals-v1-1</a></td> <td align="center"><a href="https://huggingface.co/spaces/prs-eth/marigold-normals" rel="nofollow">Surface Normals Estimation</a></td> <td><a href="https://en.wikipedia.org/wiki/Normal_mapping" rel="nofollow">Surface normals</a></td></tr> <tr><td><a href="https://github.com/huggingface/diffusers/blob/main/src/diffusers/pipelines/marigold/pipeline_marigold_intrinsics.py" rel="nofollow">MarigoldIntrinsicsPipeline</a></td> <td><a href="https://huggingface.co/prs-eth/marigold-iid-appearance-v1-1" rel="nofollow">prs-eth/marigold-iid-appearance-v1-1</a>,<br/><a href="https://huggingface.co/prs-eth/marigold-iid-lighting-v1-1" rel="nofollow">prs-eth/marigold-iid-lighting-v1-1</a></td> <td align="center"><a href="https://huggingface.co/spaces/prs-eth/marigold-iid" rel="nofollow">Intrinsic Image Decomposition</a></td> <td><a href="https://en.wikipedia.org/wiki/Albedo" rel="nofollow">Albedo</a>, <a href="https://www.n.aiq3d.com/wiki/roughnessmetalnessao-map" rel="nofollow">Materials</a>, <a href="https://en.wikipedia.org/wiki/Diffuse_reflection" rel="nofollow">Lighting</a></td></tr></tbody>',at,N,El=`All original checkpoints are available under the <a href="https://huggingface.co/prs-eth/" rel="nofollow">PRS-ETH</a> organization on Hugging Face.
They are designed for use with diffusers pipelines and the <a href="https://github.com/prs-eth/marigold" rel="nofollow">original codebase</a>, which can also be used to train
new model checkpoints.
The following is a summary of the recommended checkpoints, all of which produce reliable results with 1 to 4 steps.`,it,U,Ee,zl="<tr><th>Checkpoint</th> <th>Modality</th> <th>Comment</th></tr>",Ul,J,ze,Nl='<td><a href="https://huggingface.co/prs-eth/marigold-depth-v1-1" rel="nofollow">prs-eth/marigold-depth-v1-1</a></td> <td>Depth</td> <td>Affine-invariant depth prediction assigns each pixel a value between 0 (near plane) and 1 (far plane), with both planes determined by the model during inference.</td>',Gl,Ne,Hl='<td><a href="https://huggingface.co/prs-eth/marigold-normals-v0-1" rel="nofollow">prs-eth/marigold-normals-v0-1</a></td> <td>Normals</td> <td>The surface normals predictions are unit-length 3D vectors in the screen space camera, with values in the range from -1 to 1.</td>',Il,He,Yl='<td><a href="https://huggingface.co/prs-eth/marigold-iid-appearance-v1-1" rel="nofollow">prs-eth/marigold-iid-appearance-v1-1</a></td> <td>Intrinsics</td> <td>InteriorVerse decomposition is comprised of Albedo and two BRDF material properties: Roughness and Metallicity.</td>',Wl,v,Ye,Sl='<a href="https://huggingface.co/prs-eth/marigold-iid-lighting-v1-1" rel="nofollow">prs-eth/marigold-iid-lighting-v1-1</a>',Bl,Se,Al="Intrinsics",xl,M,Rl,nt,Gs='<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span></span></span></span>',ot,pt,Is='<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>',rt,dt,Ws='<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span>',ct,mt,Bs='<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>',ht,ut,xs='<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mo>=</mo><mi>A</mi><mo>∗</mo><mi>S</mi><mo>+</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">I = A*S+R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>',gt,Mt,H,Ql=`The examples below are mostly given for depth prediction, but they can be universally applied to other supported
modalities.
We showcase the predictions using the same input image of Albert Einstein generated by Midjourney.
This makes it easier to compare visualizations of the predictions across various modalities and checkpoints.`,yt,b,ql='<div style="flex: 1 1 50%; max-width: 50%;"><img class="rounded-xl" src="https://marigoldmonodepth.github.io/images/einstein.jpg"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Example input image for all Marigold pipelines</figcaption></div>',ft,Y,Jt,S,$l=`To get a depth prediction, load the <code>prs-eth/marigold-depth-v1-1</code> checkpoint into <a href="/docs/diffusers/v0.33.1/en/api/pipelines/marigold#diffusers.MarigoldDepthPipeline">MarigoldDepthPipeline</a>,
put the image through the pipeline, and save the predictions:`,wt,A,Tt,Q,Ll=`The <a href="/docs/diffusers/v0.33.1/en/api/pipelines/marigold#diffusers.pipelines.marigold.MarigoldImageProcessor.visualize_depth">visualize_depth()</a> function applies one of
<a href="https://matplotlib.org/stable/users/explain/colors/colormaps.html" rel="nofollow">matplotlib’s colormaps</a> (<code>Spectral</code> by default) to map the predicted pixel values from a single-channel <code>[0, 1]</code>
depth range into an RGB image.
With the <code>Spectral</code> colormap, pixels with near depth are painted red, and far pixels are blue.
The 16-bit PNG file stores the single channel values mapped linearly from the <code>[0, 1]</code> range into <code>[0, 65535]</code>.
Below are the raw and the visualized predictions. The darker and closer areas (mustache) are easier to distinguish in
the visualization.`,bt,G,Fl='<div style="flex: 1 1 50%; max-width: 50%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/marigold/marigold_einstein_lcm_depth_16bit.png"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Predicted depth (16-bit PNG)</figcaption></div> <div style="flex: 1 1 50%; max-width: 50%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/marigold/marigold_einstein_lcm_depth.png"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Predicted depth visualization (Spectral)</figcaption></div>',Zt,q,jt,$,Dl=`Load the <code>prs-eth/marigold-normals-v1-1</code> checkpoint into <a href="/docs/diffusers/v0.33.1/en/api/pipelines/marigold#diffusers.MarigoldNormalsPipeline">MarigoldNormalsPipeline</a>, put the image through the
pipeline, and save the predictions:`,vt,L,Ut,F,Pl=`The <a href="/docs/diffusers/v0.33.1/en/api/pipelines/marigold#diffusers.pipelines.marigold.MarigoldImageProcessor.visualize_normals">visualize_normals()</a> maps the three-dimensional
prediction with pixel values in the range <code>[-1, 1]</code> into an RGB image.
The visualization function supports flipping surface normals axes to make the visualization compatible with other
choices of the frame of reference.
Conceptually, each pixel is painted according to the surface normal vector in the frame of reference, where <code>X</code> axis
points right, <code>Y</code> axis points up, and <code>Z</code> axis points at the viewer.
Below is the visualized prediction:`,Gt,Z,Kl='<div style="flex: 1 1 50%; max-width: 50%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/marigold/marigold_einstein_lcm_normals.png"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Predicted surface normals visualization</figcaption></div>',It,D,Ol=`In this example, the nose tip almost certainly has a point on the surface, in which the surface normal vector points
straight at the viewer, meaning that its coordinates are <code>[0, 0, 1]</code>.
This vector maps to the RGB <code>[128, 128, 255]</code>, which corresponds to the violet-blue color.
Similarly, a surface normal on the cheek in the right part of the image has a large <code>X</code> component, which increases the
red hue.
Points on the shoulders pointing up with a large <code>Y</code> promote green color.`,Wt,P,Bt,K,es=`Marigold provides two models for Intrinsic Image Decomposition (IID): “Appearance” and “Lighting”.
Each model produces Albedo maps, derived from InteriorVerse and Hypersim annotations, respectively.`,xt,O,ts="<li>The “Appearance” model also estimates Material properties: Roughness and Metallicity.</li> <li>The “Lighting” model generates Diffuse Shading and Non-diffuse Residual.</li>",Rt,ee,ls="Here is the sample code saving predictions made by the “Appearance” model:",Ct,te,_t,le,ss="Another example demonstrating the predictions made by the “Lighting” model:",Xt,se,Vt,ae,as=`Both models share the same pipeline while supporting different decomposition types.
The exact decomposition parameterization (e.g., sRGB vs. linear space) is stored in the
<code>pipe.target_properties</code> dictionary, which is passed into the
<a href="/docs/diffusers/v0.33.1/en/api/pipelines/marigold#diffusers.pipelines.marigold.MarigoldImageProcessor.visualize_intrinsics">visualize_intrinsics()</a> function.`,kt,ie,is=`Below are some examples showcasing the predicted decomposition outputs.
All modalities can be inspected in the
<a href="https://huggingface.co/spaces/prs-eth/marigold-iid" rel="nofollow">Intrinsic Image Decomposition</a> Space.`,Et,I,ns='<div style="flex: 1 1 50%; max-width: 50%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/8c7986eaaab5eb9604eb88336311f46a7b0ff5ab/marigold/marigold_einstein_albedo.png"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Predicted albedo (&quot;Appearance&quot; model)</figcaption></div> <div style="flex: 1 1 50%; max-width: 50%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/8c7986eaaab5eb9604eb88336311f46a7b0ff5ab/marigold/marigold_einstein_diffuse.png"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Predicted diffuse shading (&quot;Lighting&quot; model)</figcaption></div>',zt,ne,Nt,oe,os=`The above quick start snippets are already optimized for quality and speed, loading the checkpoint, utilizing the
<code>fp16</code> variant of weights and computation, and performing the default number (4) of denoising diffusion steps.
The first step to accelerate inference, at the expense of prediction quality, is to reduce the denoising diffusion
steps to the minimum:`,Ht,pe,Yt,re,ps=`With this change, the <code>pipe</code> call completes in 280ms on RTX 3090 GPU.
Internally, the input image is first encoded using the Stable Diffusion VAE encoder, followed by a single denoising
step performed by the U-Net.
Finally, the prediction latent is decoded with the VAE decoder into pixel space.
In this setup, two out of three module calls are dedicated to converting between the pixel and latent spaces of the LDM.
Since Marigold’s latent space is compatible with Stable Diffusion 2.0, inference can be accelerated by more than 3x,
reducing the call time to 85ms on an RTX 3090, by using a <a href="../api/models/autoencoder_tiny">lightweight replacement of the SD VAE</a>.
Note that using a lightweight VAE may slightly reduce the visual quality of the predictions.`,St,de,At,ce,rs=`So far, we have optimized the number of diffusion steps and model components. Self-attention operations account for a
significant portion of computations.
Speeding them up can be achieved by using a more efficient attention processor:`,Qt,me,qt,he,ds=`Finally, as suggested in <a href="../optimization/torch2.0#torch.compile">Optimizations</a>, enabling <code>torch.compile</code> can further enhance performance depending on
the target hardware.
However, compilation incurs a significant overhead during the first pipeline invocation, making it beneficial only when
the same pipeline instance is called repeatedly, such as within a loop.`,$t,ue,Lt,ge,Ft,Me,cs=`Marigold pipelines have a built-in ensembling mechanism combining multiple predictions from different random latents.
This is a brute-force way of improving the precision of predictions, capitalizing on the generative nature of diffusion.
The ensembling path is activated automatically when the <code>ensemble_size</code> argument is set greater or equal than <code>3</code>.
When aiming for maximum precision, it makes sense to adjust <code>num_inference_steps</code> simultaneously with <code>ensemble_size</code>.
The recommended values vary across checkpoints but primarily depend on the scheduler type.
The effect of ensembling is particularly well-seen with surface normals:`,Dt,ye,Pt,W,ms='<div style="flex: 1 1 50%; max-width: 50%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/marigold/marigold_einstein_lcm_normals.png"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Surface normals, no ensembling</figcaption></div> <div style="flex: 1 1 50%; max-width: 50%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/marigold/marigold_einstein_normals.png"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Surface normals, with ensembling</figcaption></div>',Kt,fe,hs=`As can be seen, all areas with fine-grained structurers, such as hair, got more conservative and on average more
correct predictions.
Such a result is more suitable for precision-sensitive downstream tasks, such as 3D reconstruction.`,Ot,Je,el,we,us=`Due to Marigold’s generative nature, each prediction is unique and defined by the random noise sampled for the latent
initialization.
This becomes an obvious drawback compared to traditional end-to-end dense regression networks, as exemplified in the
following videos:`,tl,B,gs='<div style="flex: 1 1 50%; max-width: 50%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/marigold/marigold_obama.gif"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Input video</figcaption></div> <div style="flex: 1 1 50%; max-width: 50%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/marigold/marigold_obama_depth_independent.gif"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Marigold Depth applied to input video frames independently</figcaption></div>',ll,Te,Ms=`To address this issue, it is possible to pass <code>latents</code> argument to the pipelines, which defines the starting point of
diffusion.
Empirically, we found that a convex combination of the very same starting point noise latent and the latent
corresponding to the previous frame prediction give sufficiently smooth results, as implemented in the snippet below:`,sl,be,al,Ze,ys=`Here, the diffusion process starts from the given computed latent.
The pipeline sets <code>output_latent=True</code> to access <code>out.latent</code> and computes its contribution to the next frame’s latent
initialization.
The result is much more stable now:`,il,x,fs='<div style="flex: 1 1 50%; max-width: 50%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/marigold/marigold_obama_depth_independent.gif"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Marigold Depth applied to input video frames independently</figcaption></div> <div style="flex: 1 1 50%; max-width: 50%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/marigold/marigold_obama_depth_consistent.gif"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Marigold Depth with forced latents initialization</figcaption></div>',nl,je,ol,ve,Js=`A very common application for depth prediction with diffusion models comes in conjunction with ControlNet.
Depth crispness plays a crucial role in obtaining high-quality results from ControlNet.
As seen in comparisons with other methods above, Marigold excels at that task.
The snippet below demonstrates how to load an image, compute depth, and pass it into ControlNet in a compatible format:`,pl,Ue,rl,R,ws='<div style="flex: 1 1 33%; max-width: 33%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/diffusers/controlnet_depth_source.png"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Input image</figcaption></div> <div style="flex: 1 1 33%; max-width: 33%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/marigold/motorcycle_controlnet_depth.png"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Depth in the format compatible with ControlNet</figcaption></div> <div style="flex: 1 1 33%; max-width: 33%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/marigold/motorcycle_controlnet_out.png"/> <figcaption class="mt-1 text-center text-sm text-gray-500">ControlNet generation, conditioned on depth and prompt: &quot;high quality photo of a sports bike, city&quot;</figcaption></div>',dl,Ge,cl,Ie,Ts=`To evaluate Marigold quantitatively in standard leaderboards and benchmarks (such as NYU, KITTI, and other datasets),
follow the evaluation protocol outlined in the paper: load the full precision fp32 model and use appropriate values
for <code>num_inference_steps</code> and <code>ensemble_size</code>.
Optionally seed randomness to ensure reproducibility.
Maximizing <code>batch_size</code> will deliver maximum device utilization.`,ml,We,hl,Be,ul,xe,bs=`The ensembling mechanism built into Marigold pipelines combines multiple predictions obtained from different random
latents.
As a side effect, it can be used to quantify epistemic (model) uncertainty; simply specify <code>ensemble_size</code> greater
or equal than 3 and set <code>output_uncertainty=True</code>.
The resulting uncertainty will be available in the <code>uncertainty</code> field of the output.
It can be visualized as follows:`,gl,Re,Ml,C,Zs='<div style="flex: 1 1 33%; max-width: 33%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/marigold/marigold_einstein_depth_uncertainty.png"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Depth uncertainty</figcaption></div> <div style="flex: 1 1 33%; max-width: 33%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/marigold/marigold_einstein_normals_uncertainty.png"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Surface normals uncertainty</figcaption></div> <div style="flex: 1 1 33%; max-width: 33%;"><img class="rounded-xl" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/4f83035d84a24e5ec44fdda129b1d51eba12ce04/marigold/marigold_einstein_albedo_uncertainty.png"/> <figcaption class="mt-1 text-center text-sm text-gray-500">Albedo uncertainty</figcaption></div>',yl,Ce,js=`The interpretation of uncertainty is easy: higher values (white) correspond to pixels, where the model struggles to
make consistent predictions.`,fl,_e,vs=`<li>The depth model exhibits the most uncertainty around discontinuities, where object depth changes abruptly.</li> <li>The surface normals model is least confident in fine-grained structures like hair and in dark regions such as the
collar area.</li> <li>Albedo uncertainty is represented as an RGB image, as it captures uncertainty independently for each color channel,
unlike depth and surface normals. It is also higher in shaded regions and at discontinuities.</li>`,Jl,Xe,wl,Ve,Us=`We hope Marigold proves valuable for your downstream tasks, whether as part of a broader generative workflow or for
perception-based applications like 3D reconstruction.`,Tl,ke,bl,Fe,Zl;return X=new T({props:{title:"Marigold Computer Vision",local:"marigold-computer-vision",headingTag:"h1"}}),Y=new T({props:{title:"Depth Prediction",local:"depth-prediction",headingTag:"h2"}}),A=new y({props:{code:"aW1wb3J0JTIwZGlmZnVzZXJzJTBBaW1wb3J0JTIwdG9yY2glMEElMEFwaXBlJTIwJTNEJTIwZGlmZnVzZXJzLk1hcmlnb2xkRGVwdGhQaXBlbGluZS5mcm9tX3ByZXRyYWluZWQoJTBBJTIwJTIwJTIwJTIwJTIycHJzLWV0aCUyRm1hcmlnb2xkLWRlcHRoLXYxLTElMjIlMkMlMjB2YXJpYW50JTNEJTIyZnAxNiUyMiUyQyUyMHRvcmNoX2R0eXBlJTNEdG9yY2guZmxvYXQxNiUwQSkudG8oJTIyY3VkYSUyMiklMEElMEFpbWFnZSUyMCUzRCUyMGRpZmZ1c2Vycy51dGlscy5sb2FkX2ltYWdlKCUyMmh0dHBzJTNBJTJGJTJGbWFyaWdvbGRtb25vZGVwdGguZ2l0aHViLmlvJTJGaW1hZ2VzJTJGZWluc3RlaW4uanBnJTIyKSUwQSUwQWRlcHRoJTIwJTNEJTIwcGlwZShpbWFnZSklMEElMEF2aXMlMjAlM0QlMjBwaXBlLmltYWdlX3Byb2Nlc3Nvci52aXN1YWxpemVfZGVwdGgoZGVwdGgucHJlZGljdGlvbiklMEF2aXMlNUIwJTVELnNhdmUoJTIyZWluc3RlaW5fZGVwdGgucG5nJTIyKSUwQSUwQWRlcHRoXzE2Yml0JTIwJTNEJTIwcGlwZS5pbWFnZV9wcm9jZXNzb3IuZXhwb3J0X2RlcHRoX3RvXzE2Yml0X3BuZyhkZXB0aC5wcmVkaWN0aW9uKSUwQWRlcHRoXzE2Yml0JTVCMCU1RC5zYXZlKCUyMmVpbnN0ZWluX2RlcHRoXzE2Yml0LnBuZyUyMik=",highlighted:`<span class="hljs-keyword">import</span> diffusers
<span class="hljs-keyword">import</span> torch

pipe = diffusers.MarigoldDepthPipeline.from_pretrained(
    <span class="hljs-string">&quot;prs-eth/marigold-depth-v1-1&quot;</span>, variant=<span class="hljs-string">&quot;fp16&quot;</span>, torch_dtype=torch.float16
).to(<span class="hljs-string">&quot;cuda&quot;</span>)

image = diffusers.utils.load_image(<span class="hljs-string">&quot;https://marigoldmonodepth.github.io/images/einstein.jpg&quot;</span>)

depth = pipe(image)

vis = pipe.image_processor.visualize_depth(depth.prediction)
vis[<span class="hljs-number">0</span>].save(<span class="hljs-string">&quot;einstein_depth.png&quot;</span>)

depth_16bit = pipe.image_processor.export_depth_to_16bit_png(depth.prediction)
depth_16bit[<span class="hljs-number">0</span>].save(<span class="hljs-string">&quot;einstein_depth_16bit.png&quot;</span>)`,wrap:!1}}),q=new T({props:{title:"Surface Normals Estimation",local:"surface-normals-estimation",headingTag:"h2"}}),L=new y({props:{code:"aW1wb3J0JTIwZGlmZnVzZXJzJTBBaW1wb3J0JTIwdG9yY2glMEElMEFwaXBlJTIwJTNEJTIwZGlmZnVzZXJzLk1hcmlnb2xkTm9ybWFsc1BpcGVsaW5lLmZyb21fcHJldHJhaW5lZCglMEElMjAlMjAlMjAlMjAlMjJwcnMtZXRoJTJGbWFyaWdvbGQtbm9ybWFscy12MS0xJTIyJTJDJTIwdmFyaWFudCUzRCUyMmZwMTYlMjIlMkMlMjB0b3JjaF9kdHlwZSUzRHRvcmNoLmZsb2F0MTYlMEEpLnRvKCUyMmN1ZGElMjIpJTBBJTBBaW1hZ2UlMjAlM0QlMjBkaWZmdXNlcnMudXRpbHMubG9hZF9pbWFnZSglMjJodHRwcyUzQSUyRiUyRm1hcmlnb2xkbW9ub2RlcHRoLmdpdGh1Yi5pbyUyRmltYWdlcyUyRmVpbnN0ZWluLmpwZyUyMiklMEElMEFub3JtYWxzJTIwJTNEJTIwcGlwZShpbWFnZSklMEElMEF2aXMlMjAlM0QlMjBwaXBlLmltYWdlX3Byb2Nlc3Nvci52aXN1YWxpemVfbm9ybWFscyhub3JtYWxzLnByZWRpY3Rpb24pJTBBdmlzJTVCMCU1RC5zYXZlKCUyMmVpbnN0ZWluX25vcm1hbHMucG5nJTIyKQ==",highlighted:`<span class="hljs-keyword">import</span> diffusers
<span class="hljs-keyword">import</span> torch

pipe = diffusers.MarigoldNormalsPipeline.from_pretrained(
    <span class="hljs-string">&quot;prs-eth/marigold-normals-v1-1&quot;</span>, variant=<span class="hljs-string">&quot;fp16&quot;</span>, torch_dtype=torch.float16
).to(<span class="hljs-string">&quot;cuda&quot;</span>)

image = diffusers.utils.load_image(<span class="hljs-string">&quot;https://marigoldmonodepth.github.io/images/einstein.jpg&quot;</span>)

normals = pipe(image)

vis = pipe.image_processor.visualize_normals(normals.prediction)
vis[<span class="hljs-number">0</span>].save(<span class="hljs-string">&quot;einstein_normals.png&quot;</span>)`,wrap:!1}}),P=new T({props:{title:"Intrinsic Image Decomposition",local:"intrinsic-image-decomposition",headingTag:"h2"}}),te=new y({props:{code:"aW1wb3J0JTIwZGlmZnVzZXJzJTBBaW1wb3J0JTIwdG9yY2glMEElMEFwaXBlJTIwJTNEJTIwZGlmZnVzZXJzLk1hcmlnb2xkSW50cmluc2ljc1BpcGVsaW5lLmZyb21fcHJldHJhaW5lZCglMEElMjAlMjAlMjAlMjAlMjJwcnMtZXRoJTJGbWFyaWdvbGQtaWlkLWFwcGVhcmFuY2UtdjEtMSUyMiUyQyUyMHZhcmlhbnQlM0QlMjJmcDE2JTIyJTJDJTIwdG9yY2hfZHR5cGUlM0R0b3JjaC5mbG9hdDE2JTBBKS50byglMjJjdWRhJTIyKSUwQSUwQWltYWdlJTIwJTNEJTIwZGlmZnVzZXJzLnV0aWxzLmxvYWRfaW1hZ2UoJTIyaHR0cHMlM0ElMkYlMkZtYXJpZ29sZG1vbm9kZXB0aC5naXRodWIuaW8lMkZpbWFnZXMlMkZlaW5zdGVpbi5qcGclMjIpJTBBJTBBaW50cmluc2ljcyUyMCUzRCUyMHBpcGUoaW1hZ2UpJTBBJTBBdmlzJTIwJTNEJTIwcGlwZS5pbWFnZV9wcm9jZXNzb3IudmlzdWFsaXplX2ludHJpbnNpY3MoaW50cmluc2ljcy5wcmVkaWN0aW9uJTJDJTIwcGlwZS50YXJnZXRfcHJvcGVydGllcyklMEF2aXMlNUIwJTVEJTVCJTIyYWxiZWRvJTIyJTVELnNhdmUoJTIyZWluc3RlaW5fYWxiZWRvLnBuZyUyMiklMEF2aXMlNUIwJTVEJTVCJTIycm91Z2huZXNzJTIyJTVELnNhdmUoJTIyZWluc3RlaW5fcm91Z2huZXNzLnBuZyUyMiklMEF2aXMlNUIwJTVEJTVCJTIybWV0YWxsaWNpdHklMjIlNUQuc2F2ZSglMjJlaW5zdGVpbl9tZXRhbGxpY2l0eS5wbmclMjIp",highlighted:`<span class="hljs-keyword">import</span> diffusers
<span class="hljs-keyword">import</span> torch

pipe = diffusers.MarigoldIntrinsicsPipeline.from_pretrained(
    <span class="hljs-string">&quot;prs-eth/marigold-iid-appearance-v1-1&quot;</span>, variant=<span class="hljs-string">&quot;fp16&quot;</span>, torch_dtype=torch.float16
).to(<span class="hljs-string">&quot;cuda&quot;</span>)

image = diffusers.utils.load_image(<span class="hljs-string">&quot;https://marigoldmonodepth.github.io/images/einstein.jpg&quot;</span>)

intrinsics = pipe(image)

vis = pipe.image_processor.visualize_intrinsics(intrinsics.prediction, pipe.target_properties)
vis[<span class="hljs-number">0</span>][<span class="hljs-string">&quot;albedo&quot;</span>].save(<span class="hljs-string">&quot;einstein_albedo.png&quot;</span>)
vis[<span class="hljs-number">0</span>][<span class="hljs-string">&quot;roughness&quot;</span>].save(<span class="hljs-string">&quot;einstein_roughness.png&quot;</span>)
vis[<span class="hljs-number">0</span>][<span class="hljs-string">&quot;metallicity&quot;</span>].save(<span class="hljs-string">&quot;einstein_metallicity.png&quot;</span>)`,wrap:!1}}),se=new y({props:{code:"aW1wb3J0JTIwZGlmZnVzZXJzJTBBaW1wb3J0JTIwdG9yY2glMEElMEFwaXBlJTIwJTNEJTIwZGlmZnVzZXJzLk1hcmlnb2xkSW50cmluc2ljc1BpcGVsaW5lLmZyb21fcHJldHJhaW5lZCglMEElMjAlMjAlMjAlMjAlMjJwcnMtZXRoJTJGbWFyaWdvbGQtaWlkLWxpZ2h0aW5nLXYxLTElMjIlMkMlMjB2YXJpYW50JTNEJTIyZnAxNiUyMiUyQyUyMHRvcmNoX2R0eXBlJTNEdG9yY2guZmxvYXQxNiUwQSkudG8oJTIyY3VkYSUyMiklMEElMEFpbWFnZSUyMCUzRCUyMGRpZmZ1c2Vycy51dGlscy5sb2FkX2ltYWdlKCUyMmh0dHBzJTNBJTJGJTJGbWFyaWdvbGRtb25vZGVwdGguZ2l0aHViLmlvJTJGaW1hZ2VzJTJGZWluc3RlaW4uanBnJTIyKSUwQSUwQWludHJpbnNpY3MlMjAlM0QlMjBwaXBlKGltYWdlKSUwQSUwQXZpcyUyMCUzRCUyMHBpcGUuaW1hZ2VfcHJvY2Vzc29yLnZpc3VhbGl6ZV9pbnRyaW5zaWNzKGludHJpbnNpY3MucHJlZGljdGlvbiUyQyUyMHBpcGUudGFyZ2V0X3Byb3BlcnRpZXMpJTBBdmlzJTVCMCU1RCU1QiUyMmFsYmVkbyUyMiU1RC5zYXZlKCUyMmVpbnN0ZWluX2FsYmVkby5wbmclMjIpJTBBdmlzJTVCMCU1RCU1QiUyMnNoYWRpbmclMjIlNUQuc2F2ZSglMjJlaW5zdGVpbl9zaGFkaW5nLnBuZyUyMiklMEF2aXMlNUIwJTVEJTVCJTIycmVzaWR1YWwlMjIlNUQuc2F2ZSglMjJlaW5zdGVpbl9yZXNpZHVhbC5wbmclMjIp",highlighted:`<span class="hljs-keyword">import</span> diffusers
<span class="hljs-keyword">import</span> torch

pipe = diffusers.MarigoldIntrinsicsPipeline.from_pretrained(
    <span class="hljs-string">&quot;prs-eth/marigold-iid-lighting-v1-1&quot;</span>, variant=<span class="hljs-string">&quot;fp16&quot;</span>, torch_dtype=torch.float16
).to(<span class="hljs-string">&quot;cuda&quot;</span>)

image = diffusers.utils.load_image(<span class="hljs-string">&quot;https://marigoldmonodepth.github.io/images/einstein.jpg&quot;</span>)

intrinsics = pipe(image)

vis = pipe.image_processor.visualize_intrinsics(intrinsics.prediction, pipe.target_properties)
vis[<span class="hljs-number">0</span>][<span class="hljs-string">&quot;albedo&quot;</span>].save(<span class="hljs-string">&quot;einstein_albedo.png&quot;</span>)
vis[<span class="hljs-number">0</span>][<span class="hljs-string">&quot;shading&quot;</span>].save(<span class="hljs-string">&quot;einstein_shading.png&quot;</span>)
vis[<span class="hljs-number">0</span>][<span class="hljs-string">&quot;residual&quot;</span>].save(<span class="hljs-string">&quot;einstein_residual.png&quot;</span>)`,wrap:!1}}),ne=new T({props:{title:"Speeding up inference",local:"speeding-up-inference",headingTag:"h2"}}),pe=new y({props:{code:"JTIwJTIwaW1wb3J0JTIwZGlmZnVzZXJzJTBBJTIwJTIwaW1wb3J0JTIwdG9yY2glMEElMEElMjAlMjBwaXBlJTIwJTNEJTIwZGlmZnVzZXJzLk1hcmlnb2xkRGVwdGhQaXBlbGluZS5mcm9tX3ByZXRyYWluZWQoJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIycHJzLWV0aCUyRm1hcmlnb2xkLWRlcHRoLXYxLTElMjIlMkMlMjB2YXJpYW50JTNEJTIyZnAxNiUyMiUyQyUyMHRvcmNoX2R0eXBlJTNEdG9yY2guZmxvYXQxNiUwQSUyMCUyMCkudG8oJTIyY3VkYSUyMiklMEElMEElMjAlMjBpbWFnZSUyMCUzRCUyMGRpZmZ1c2Vycy51dGlscy5sb2FkX2ltYWdlKCUyMmh0dHBzJTNBJTJGJTJGbWFyaWdvbGRtb25vZGVwdGguZ2l0aHViLmlvJTJGaW1hZ2VzJTJGZWluc3RlaW4uanBnJTIyKSUwQSUyMCUyMCUwQS0lMjBkZXB0aCUyMCUzRCUyMHBpcGUoaW1hZ2UpJTBBJTJCJTIwZGVwdGglMjAlM0QlMjBwaXBlKGltYWdlJTJDJTIwbnVtX2luZmVyZW5jZV9zdGVwcyUzRDEp",highlighted:`  import diffusers
  import torch

  pipe = diffusers.MarigoldDepthPipeline.from_pretrained(
      &quot;prs-eth/marigold-depth-v1-1&quot;, variant=&quot;fp16&quot;, torch_dtype=torch.float16
  ).to(&quot;cuda&quot;)

  image = diffusers.utils.load_image(&quot;https://marigoldmonodepth.github.io/images/einstein.jpg&quot;)
  
<span class="hljs-deletion">- depth = pipe(image)</span>
<span class="hljs-addition">+ depth = pipe(image, num_inference_steps=1)</span>`,wrap:!1}}),de=new y({props:{code:"JTIwJTIwaW1wb3J0JTIwZGlmZnVzZXJzJTBBJTIwJTIwaW1wb3J0JTIwdG9yY2glMEElMEElMjAlMjBwaXBlJTIwJTNEJTIwZGlmZnVzZXJzLk1hcmlnb2xkRGVwdGhQaXBlbGluZS5mcm9tX3ByZXRyYWluZWQoJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIycHJzLWV0aCUyRm1hcmlnb2xkLWRlcHRoLXYxLTElMjIlMkMlMjB2YXJpYW50JTNEJTIyZnAxNiUyMiUyQyUyMHRvcmNoX2R0eXBlJTNEdG9yY2guZmxvYXQxNiUwQSUyMCUyMCkudG8oJTIyY3VkYSUyMiklMEElMEElMkIlMjBwaXBlLnZhZSUyMCUzRCUyMGRpZmZ1c2Vycy5BdXRvZW5jb2RlclRpbnkuZnJvbV9wcmV0cmFpbmVkKCUwQSUyQiUyMCUyMCUyMCUyMCUyMCUyMm1hZGVieW9sbGluJTJGdGFlc2QlMjIlMkMlMjB0b3JjaF9kdHlwZSUzRHRvcmNoLmZsb2F0MTYlMEElMkIlMjApLmN1ZGEoKSUwQSUwQSUyMCUyMGltYWdlJTIwJTNEJTIwZGlmZnVzZXJzLnV0aWxzLmxvYWRfaW1hZ2UoJTIyaHR0cHMlM0ElMkYlMkZtYXJpZ29sZG1vbm9kZXB0aC5naXRodWIuaW8lMkZpbWFnZXMlMkZlaW5zdGVpbi5qcGclMjIpJTBBJTBBJTIwJTIwZGVwdGglMjAlM0QlMjBwaXBlKGltYWdlJTJDJTIwbnVtX2luZmVyZW5jZV9zdGVwcyUzRDEp",highlighted:`  import diffusers
  import torch

  pipe = diffusers.MarigoldDepthPipeline.from_pretrained(
      &quot;prs-eth/marigold-depth-v1-1&quot;, variant=&quot;fp16&quot;, torch_dtype=torch.float16
  ).to(&quot;cuda&quot;)

<span class="hljs-addition">+ pipe.vae = diffusers.AutoencoderTiny.from_pretrained(</span>
<span class="hljs-addition">+     &quot;madebyollin/taesd&quot;, torch_dtype=torch.float16</span>
<span class="hljs-addition">+ ).cuda()</span>

  image = diffusers.utils.load_image(&quot;https://marigoldmonodepth.github.io/images/einstein.jpg&quot;)

  depth = pipe(image, num_inference_steps=1)`,wrap:!1}}),me=new y({props:{code:"JTIwJTIwaW1wb3J0JTIwZGlmZnVzZXJzJTBBJTIwJTIwaW1wb3J0JTIwdG9yY2glMEElMkIlMjBmcm9tJTIwZGlmZnVzZXJzLm1vZGVscy5hdHRlbnRpb25fcHJvY2Vzc29yJTIwaW1wb3J0JTIwQXR0blByb2Nlc3NvcjJfMCUwQSUwQSUyMCUyMHBpcGUlMjAlM0QlMjBkaWZmdXNlcnMuTWFyaWdvbGREZXB0aFBpcGVsaW5lLmZyb21fcHJldHJhaW5lZCglMEElMjAlMjAlMjAlMjAlMjAlMjAlMjJwcnMtZXRoJTJGbWFyaWdvbGQtZGVwdGgtdjEtMSUyMiUyQyUyMHZhcmlhbnQlM0QlMjJmcDE2JTIyJTJDJTIwdG9yY2hfZHR5cGUlM0R0b3JjaC5mbG9hdDE2JTBBJTIwJTIwKS50byglMjJjdWRhJTIyKSUwQSUwQSUyQiUyMHBpcGUudmFlLnNldF9hdHRuX3Byb2Nlc3NvcihBdHRuUHJvY2Vzc29yMl8wKCkpJTIwJTBBJTJCJTIwcGlwZS51bmV0LnNldF9hdHRuX3Byb2Nlc3NvcihBdHRuUHJvY2Vzc29yMl8wKCkpJTBBJTBBJTIwJTIwaW1hZ2UlMjAlM0QlMjBkaWZmdXNlcnMudXRpbHMubG9hZF9pbWFnZSglMjJodHRwcyUzQSUyRiUyRm1hcmlnb2xkbW9ub2RlcHRoLmdpdGh1Yi5pbyUyRmltYWdlcyUyRmVpbnN0ZWluLmpwZyUyMiklMEElMEElMjAlMjBkZXB0aCUyMCUzRCUyMHBpcGUoaW1hZ2UlMkMlMjBudW1faW5mZXJlbmNlX3N0ZXBzJTNEMSk=",highlighted:`  import diffusers
  import torch
<span class="hljs-addition">+ from diffusers.models.attention_processor import AttnProcessor2_0</span>

  pipe = diffusers.MarigoldDepthPipeline.from_pretrained(
      &quot;prs-eth/marigold-depth-v1-1&quot;, variant=&quot;fp16&quot;, torch_dtype=torch.float16
  ).to(&quot;cuda&quot;)

<span class="hljs-addition">+ pipe.vae.set_attn_processor(AttnProcessor2_0()) </span>
<span class="hljs-addition">+ pipe.unet.set_attn_processor(AttnProcessor2_0())</span>

  image = diffusers.utils.load_image(&quot;https://marigoldmonodepth.github.io/images/einstein.jpg&quot;)

  depth = pipe(image, num_inference_steps=1)`,wrap:!1}}),ue=new y({props:{code:"JTIwJTIwaW1wb3J0JTIwZGlmZnVzZXJzJTBBJTIwJTIwaW1wb3J0JTIwdG9yY2glMEElMjAlMjBmcm9tJTIwZGlmZnVzZXJzLm1vZGVscy5hdHRlbnRpb25fcHJvY2Vzc29yJTIwaW1wb3J0JTIwQXR0blByb2Nlc3NvcjJfMCUwQSUwQSUyMCUyMHBpcGUlMjAlM0QlMjBkaWZmdXNlcnMuTWFyaWdvbGREZXB0aFBpcGVsaW5lLmZyb21fcHJldHJhaW5lZCglMEElMjAlMjAlMjAlMjAlMjAlMjAlMjJwcnMtZXRoJTJGbWFyaWdvbGQtZGVwdGgtdjEtMSUyMiUyQyUyMHZhcmlhbnQlM0QlMjJmcDE2JTIyJTJDJTIwdG9yY2hfZHR5cGUlM0R0b3JjaC5mbG9hdDE2JTBBJTIwJTIwKS50byglMjJjdWRhJTIyKSUwQSUwQSUyMCUyMHBpcGUudmFlLnNldF9hdHRuX3Byb2Nlc3NvcihBdHRuUHJvY2Vzc29yMl8wKCkpJTIwJTBBJTIwJTIwcGlwZS51bmV0LnNldF9hdHRuX3Byb2Nlc3NvcihBdHRuUHJvY2Vzc29yMl8wKCkpJTBBJTBBJTJCJTIwcGlwZS52YWUlMjAlM0QlMjB0b3JjaC5jb21waWxlKHBpcGUudmFlJTJDJTIwbW9kZSUzRCUyMnJlZHVjZS1vdmVyaGVhZCUyMiUyQyUyMGZ1bGxncmFwaCUzRFRydWUpJTBBJTJCJTIwcGlwZS51bmV0JTIwJTNEJTIwdG9yY2guY29tcGlsZShwaXBlLnVuZXQlMkMlMjBtb2RlJTNEJTIycmVkdWNlLW92ZXJoZWFkJTIyJTJDJTIwZnVsbGdyYXBoJTNEVHJ1ZSklMEElMEElMjAlMjBpbWFnZSUyMCUzRCUyMGRpZmZ1c2Vycy51dGlscy5sb2FkX2ltYWdlKCUyMmh0dHBzJTNBJTJGJTJGbWFyaWdvbGRtb25vZGVwdGguZ2l0aHViLmlvJTJGaW1hZ2VzJTJGZWluc3RlaW4uanBnJTIyKSUwQSUwQSUyMCUyMGRlcHRoJTIwJTNEJTIwcGlwZShpbWFnZSUyQyUyMG51bV9pbmZlcmVuY2Vfc3RlcHMlM0QxKQ==",highlighted:`  import diffusers
  import torch
  from diffusers.models.attention_processor import AttnProcessor2_0

  pipe = diffusers.MarigoldDepthPipeline.from_pretrained(
      &quot;prs-eth/marigold-depth-v1-1&quot;, variant=&quot;fp16&quot;, torch_dtype=torch.float16
  ).to(&quot;cuda&quot;)

  pipe.vae.set_attn_processor(AttnProcessor2_0()) 
  pipe.unet.set_attn_processor(AttnProcessor2_0())

<span class="hljs-addition">+ pipe.vae = torch.compile(pipe.vae, mode=&quot;reduce-overhead&quot;, fullgraph=True)</span>
<span class="hljs-addition">+ pipe.unet = torch.compile(pipe.unet, mode=&quot;reduce-overhead&quot;, fullgraph=True)</span>

  image = diffusers.utils.load_image(&quot;https://marigoldmonodepth.github.io/images/einstein.jpg&quot;)

  depth = pipe(image, num_inference_steps=1)`,wrap:!1}}),ge=new T({props:{title:"Maximizing Precision and Ensembling",local:"maximizing-precision-and-ensembling",headingTag:"h2"}}),ye=new y({props:{code:"JTIwJTIwaW1wb3J0JTIwZGlmZnVzZXJzJTBBJTBBJTIwJTIwcGlwZSUyMCUzRCUyMGRpZmZ1c2Vycy5NYXJpZ29sZE5vcm1hbHNQaXBlbGluZS5mcm9tX3ByZXRyYWluZWQoJTIycHJzLWV0aCUyRm1hcmlnb2xkLW5vcm1hbHMtdjEtMSUyMikudG8oJTIyY3VkYSUyMiklMEElMEElMjAlMjBpbWFnZSUyMCUzRCUyMGRpZmZ1c2Vycy51dGlscy5sb2FkX2ltYWdlKCUyMmh0dHBzJTNBJTJGJTJGbWFyaWdvbGRtb25vZGVwdGguZ2l0aHViLmlvJTJGaW1hZ2VzJTJGZWluc3RlaW4uanBnJTIyKSUwQSUwQS0lMjBkZXB0aCUyMCUzRCUyMHBpcGUoaW1hZ2UpJTBBJTJCJTIwZGVwdGglMjAlM0QlMjBwaXBlKGltYWdlJTJDJTIwbnVtX2luZmVyZW5jZV9zdGVwcyUzRDEwJTJDJTIwZW5zZW1ibGVfc2l6ZSUzRDUpJTBBJTBBJTIwJTIwdmlzJTIwJTNEJTIwcGlwZS5pbWFnZV9wcm9jZXNzb3IudmlzdWFsaXplX25vcm1hbHMoZGVwdGgucHJlZGljdGlvbiklMEElMjAlMjB2aXMlNUIwJTVELnNhdmUoJTIyZWluc3RlaW5fbm9ybWFscy5wbmclMjIp",highlighted:`  import diffusers

  pipe = diffusers.MarigoldNormalsPipeline.from_pretrained(&quot;prs-eth/marigold-normals-v1-1&quot;).to(&quot;cuda&quot;)

  image = diffusers.utils.load_image(&quot;https://marigoldmonodepth.github.io/images/einstein.jpg&quot;)

<span class="hljs-deletion">- depth = pipe(image)</span>
<span class="hljs-addition">+ depth = pipe(image, num_inference_steps=10, ensemble_size=5)</span>

  vis = pipe.image_processor.visualize_normals(depth.prediction)
  vis[0].save(&quot;einstein_normals.png&quot;)`,wrap:!1}}),Je=new T({props:{title:"Frame-by-frame Video Processing with Temporal Consistency",local:"frame-by-frame-video-processing-with-temporal-consistency",headingTag:"h2"}}),be=new y({props:{code:"aW1wb3J0JTIwaW1hZ2VpbyUwQWltcG9ydCUyMGRpZmZ1c2VycyUwQWltcG9ydCUyMHRvcmNoJTBBZnJvbSUyMGRpZmZ1c2Vycy5tb2RlbHMuYXR0ZW50aW9uX3Byb2Nlc3NvciUyMGltcG9ydCUyMEF0dG5Qcm9jZXNzb3IyXzAlMEFmcm9tJTIwUElMJTIwaW1wb3J0JTIwSW1hZ2UlMEFmcm9tJTIwdHFkbSUyMGltcG9ydCUyMHRxZG0lMEElMEFkZXZpY2UlMjAlM0QlMjAlMjJjdWRhJTIyJTBBcGF0aF9pbiUyMCUzRCUyMCUyMmh0dHBzJTNBJTJGJTJGaHVnZ2luZ2ZhY2UuY28lMkZzcGFjZXMlMkZwcnMtZXRoJTJGbWFyaWdvbGQtbGNtJTJGcmVzb2x2ZSUyRmM3YWRiNTQyNzk0N2QyNjgwOTQ0Zjg5OGNkOTFkMzg2YmYwZDQ5MjQlMkZmaWxlcyUyRnZpZGVvJTJGb2JhbWEubXA0JTIyJTBBcGF0aF9vdXQlMjAlM0QlMjAlMjJvYmFtYV9kZXB0aC5naWYlMjIlMEElMEFwaXBlJTIwJTNEJTIwZGlmZnVzZXJzLk1hcmlnb2xkRGVwdGhQaXBlbGluZS5mcm9tX3ByZXRyYWluZWQoJTBBJTIwJTIwJTIwJTIwJTIycHJzLWV0aCUyRm1hcmlnb2xkLWRlcHRoLXYxLTElMjIlMkMlMjB2YXJpYW50JTNEJTIyZnAxNiUyMiUyQyUyMHRvcmNoX2R0eXBlJTNEdG9yY2guZmxvYXQxNiUwQSkudG8oZGV2aWNlKSUwQXBpcGUudmFlJTIwJTNEJTIwZGlmZnVzZXJzLkF1dG9lbmNvZGVyVGlueS5mcm9tX3ByZXRyYWluZWQoJTBBJTIwJTIwJTIwJTIwJTIybWFkZWJ5b2xsaW4lMkZ0YWVzZCUyMiUyQyUyMHRvcmNoX2R0eXBlJTNEdG9yY2guZmxvYXQxNiUwQSkudG8oZGV2aWNlKSUwQXBpcGUudW5ldC5zZXRfYXR0bl9wcm9jZXNzb3IoQXR0blByb2Nlc3NvcjJfMCgpKSUwQXBpcGUudmFlJTIwJTNEJTIwdG9yY2guY29tcGlsZShwaXBlLnZhZSUyQyUyMG1vZGUlM0QlMjJyZWR1Y2Utb3ZlcmhlYWQlMjIlMkMlMjBmdWxsZ3JhcGglM0RUcnVlKSUwQXBpcGUudW5ldCUyMCUzRCUyMHRvcmNoLmNvbXBpbGUocGlwZS51bmV0JTJDJTIwbW9kZSUzRCUyMnJlZHVjZS1vdmVyaGVhZCUyMiUyQyUyMGZ1bGxncmFwaCUzRFRydWUpJTBBcGlwZS5zZXRfcHJvZ3Jlc3NfYmFyX2NvbmZpZyhkaXNhYmxlJTNEVHJ1ZSklMEElMEF3aXRoJTIwaW1hZ2Vpby5nZXRfcmVhZGVyKHBhdGhfaW4pJTIwYXMlMjByZWFkZXIlM0ElMEElMjAlMjAlMjAlMjBzaXplJTIwJTNEJTIwcmVhZGVyLmdldF9tZXRhX2RhdGEoKSU1QidzaXplJyU1RCUwQSUyMCUyMCUyMCUyMGxhc3RfZnJhbWVfbGF0ZW50JTIwJTNEJTIwTm9uZSUwQSUyMCUyMCUyMCUyMGxhdGVudF9jb21tb24lMjAlM0QlMjB0b3JjaC5yYW5kbiglMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAoMSUyQyUyMDQlMkMlMjA3NjglMjAqJTIwc2l6ZSU1QjElNUQlMjAlMkYlMkYlMjAoOCUyMColMjBtYXgoc2l6ZSkpJTJDJTIwNzY4JTIwKiUyMHNpemUlNUIwJTVEJTIwJTJGJTJGJTIwKDglMjAqJTIwbWF4KHNpemUpKSklMEElMjAlMjAlMjAlMjApLnRvKGRldmljZSUzRGRldmljZSUyQyUyMGR0eXBlJTNEdG9yY2guZmxvYXQxNiklMEElMEElMjAlMjAlMjAlMjBvdXQlMjAlM0QlMjAlNUIlNUQlMEElMjAlMjAlMjAlMjBmb3IlMjBmcmFtZV9pZCUyQyUyMGZyYW1lJTIwaW4lMjB0cWRtKGVudW1lcmF0ZShyZWFkZXIpJTJDJTIwZGVzYyUzRCUyMlByb2Nlc3NpbmclMjBWaWRlbyUyMiklM0ElMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBmcmFtZSUyMCUzRCUyMEltYWdlLmZyb21hcnJheShmcmFtZSklMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBsYXRlbnRzJTIwJTNEJTIwbGF0ZW50X2NvbW1vbiUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGlmJTIwbGFzdF9mcmFtZV9sYXRlbnQlMjBpcyUyMG5vdCUyME5vbmUlM0ElMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBsYXRlbnRzJTIwJTNEJTIwMC45JTIwKiUyMGxhdGVudHMlMjAlMkIlMjAwLjElMjAqJTIwbGFzdF9mcmFtZV9sYXRlbnQlMEElMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBkZXB0aCUyMCUzRCUyMHBpcGUoJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwZnJhbWUlMkMlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBudW1faW5mZXJlbmNlX3N0ZXBzJTNEMSUyQyUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMG1hdGNoX2lucHV0X3Jlc29sdXRpb24lM0RGYWxzZSUyQyUyMCUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGxhdGVudHMlM0RsYXRlbnRzJTJDJTIwJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwb3V0cHV0X2xhdGVudCUzRFRydWUlMkMlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjApJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwbGFzdF9mcmFtZV9sYXRlbnQlMjAlM0QlMjBkZXB0aC5sYXRlbnQlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBvdXQuYXBwZW5kKHBpcGUuaW1hZ2VfcHJvY2Vzc29yLnZpc3VhbGl6ZV9kZXB0aChkZXB0aC5wcmVkaWN0aW9uKSU1QjAlNUQpJTBBJTBBJTIwJTIwJTIwJTIwZGlmZnVzZXJzLnV0aWxzLmV4cG9ydF90b19naWYob3V0JTJDJTIwcGF0aF9vdXQlMkMlMjBmcHMlM0RyZWFkZXIuZ2V0X21ldGFfZGF0YSgpJTVCJ2ZwcyclNUQp",highlighted:`<span class="hljs-keyword">import</span> imageio
<span class="hljs-keyword">import</span> diffusers
<span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">from</span> diffusers.models.attention_processor <span class="hljs-keyword">import</span> AttnProcessor2_0
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image
<span class="hljs-keyword">from</span> tqdm <span class="hljs-keyword">import</span> tqdm

device = <span class="hljs-string">&quot;cuda&quot;</span>
path_in = <span class="hljs-string">&quot;https://huggingface.co/spaces/prs-eth/marigold-lcm/resolve/c7adb5427947d2680944f898cd91d386bf0d4924/files/video/obama.mp4&quot;</span>
path_out = <span class="hljs-string">&quot;obama_depth.gif&quot;</span>

pipe = diffusers.MarigoldDepthPipeline.from_pretrained(
    <span class="hljs-string">&quot;prs-eth/marigold-depth-v1-1&quot;</span>, variant=<span class="hljs-string">&quot;fp16&quot;</span>, torch_dtype=torch.float16
).to(device)
pipe.vae = diffusers.AutoencoderTiny.from_pretrained(
    <span class="hljs-string">&quot;madebyollin/taesd&quot;</span>, torch_dtype=torch.float16
).to(device)
pipe.unet.set_attn_processor(AttnProcessor2_0())
pipe.vae = torch.<span class="hljs-built_in">compile</span>(pipe.vae, mode=<span class="hljs-string">&quot;reduce-overhead&quot;</span>, fullgraph=<span class="hljs-literal">True</span>)
pipe.unet = torch.<span class="hljs-built_in">compile</span>(pipe.unet, mode=<span class="hljs-string">&quot;reduce-overhead&quot;</span>, fullgraph=<span class="hljs-literal">True</span>)
pipe.set_progress_bar_config(disable=<span class="hljs-literal">True</span>)

<span class="hljs-keyword">with</span> imageio.get_reader(path_in) <span class="hljs-keyword">as</span> reader:
    size = reader.get_meta_data()[<span class="hljs-string">&#x27;size&#x27;</span>]
    last_frame_latent = <span class="hljs-literal">None</span>
    latent_common = torch.randn(
        (<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">768</span> * size[<span class="hljs-number">1</span>] // (<span class="hljs-number">8</span> * <span class="hljs-built_in">max</span>(size)), <span class="hljs-number">768</span> * size[<span class="hljs-number">0</span>] // (<span class="hljs-number">8</span> * <span class="hljs-built_in">max</span>(size)))
    ).to(device=device, dtype=torch.float16)

    out = []
    <span class="hljs-keyword">for</span> frame_id, frame <span class="hljs-keyword">in</span> tqdm(<span class="hljs-built_in">enumerate</span>(reader), desc=<span class="hljs-string">&quot;Processing Video&quot;</span>):
        frame = Image.fromarray(frame)
        latents = latent_common
        <span class="hljs-keyword">if</span> last_frame_latent <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
            latents = <span class="hljs-number">0.9</span> * latents + <span class="hljs-number">0.1</span> * last_frame_latent

        depth = pipe(
            frame,
            num_inference_steps=<span class="hljs-number">1</span>,
            match_input_resolution=<span class="hljs-literal">False</span>, 
            latents=latents, 
            output_latent=<span class="hljs-literal">True</span>,
        )
        last_frame_latent = depth.latent
        out.append(pipe.image_processor.visualize_depth(depth.prediction)[<span class="hljs-number">0</span>])

    diffusers.utils.export_to_gif(out, path_out, fps=reader.get_meta_data()[<span class="hljs-string">&#x27;fps&#x27;</span>])`,wrap:!1}}),je=new T({props:{title:"Marigold for ControlNet",local:"marigold-for-controlnet",headingTag:"h2"}}),Ue=new y({props:{code:"aW1wb3J0JTIwdG9yY2glMEFpbXBvcnQlMjBkaWZmdXNlcnMlMEElMEFkZXZpY2UlMjAlM0QlMjAlMjJjdWRhJTIyJTBBZ2VuZXJhdG9yJTIwJTNEJTIwdG9yY2guR2VuZXJhdG9yKGRldmljZSUzRGRldmljZSkubWFudWFsX3NlZWQoMjAyNCklMEFpbWFnZSUyMCUzRCUyMGRpZmZ1c2Vycy51dGlscy5sb2FkX2ltYWdlKCUwQSUyMCUyMCUyMCUyMCUyMmh0dHBzJTNBJTJGJTJGaHVnZ2luZ2ZhY2UuY28lMkZkYXRhc2V0cyUyRmh1Z2dpbmdmYWNlJTJGZG9jdW1lbnRhdGlvbi1pbWFnZXMlMkZyZXNvbHZlJTJGbWFpbiUyRmRpZmZ1c2VycyUyRmNvbnRyb2xuZXRfZGVwdGhfc291cmNlLnBuZyUyMiUwQSklMEElMEFwaXBlJTIwJTNEJTIwZGlmZnVzZXJzLk1hcmlnb2xkRGVwdGhQaXBlbGluZS5mcm9tX3ByZXRyYWluZWQoJTBBJTIwJTIwJTIwJTIwJTIycHJzLWV0aCUyRm1hcmlnb2xkLWRlcHRoLXYxLTElMjIlMkMlMjB0b3JjaF9kdHlwZSUzRHRvcmNoLmZsb2F0MTYlMkMlMjB2YXJpYW50JTNEJTIyZnAxNiUyMiUwQSkudG8oZGV2aWNlKSUwQSUwQWRlcHRoX2ltYWdlJTIwJTNEJTIwcGlwZShpbWFnZSUyQyUyMGdlbmVyYXRvciUzRGdlbmVyYXRvcikucHJlZGljdGlvbiUwQWRlcHRoX2ltYWdlJTIwJTNEJTIwcGlwZS5pbWFnZV9wcm9jZXNzb3IudmlzdWFsaXplX2RlcHRoKGRlcHRoX2ltYWdlJTJDJTIwY29sb3JfbWFwJTNEJTIyYmluYXJ5JTIyKSUwQWRlcHRoX2ltYWdlJTVCMCU1RC5zYXZlKCUyMm1vdG9yY3ljbGVfY29udHJvbG5ldF9kZXB0aC5wbmclMjIpJTBBJTBBY29udHJvbG5ldCUyMCUzRCUyMGRpZmZ1c2Vycy5Db250cm9sTmV0TW9kZWwuZnJvbV9wcmV0cmFpbmVkKCUwQSUyMCUyMCUyMCUyMCUyMmRpZmZ1c2VycyUyRmNvbnRyb2xuZXQtZGVwdGgtc2R4bC0xLjAlMjIlMkMlMjB0b3JjaF9kdHlwZSUzRHRvcmNoLmZsb2F0MTYlMkMlMjB2YXJpYW50JTNEJTIyZnAxNiUyMiUwQSkudG8oZGV2aWNlKSUwQXBpcGUlMjAlM0QlMjBkaWZmdXNlcnMuU3RhYmxlRGlmZnVzaW9uWExDb250cm9sTmV0UGlwZWxpbmUuZnJvbV9wcmV0cmFpbmVkKCUwQSUyMCUyMCUyMCUyMCUyMlNHMTYxMjIyJTJGUmVhbFZpc1hMX1Y0LjAlMjIlMkMlMjB0b3JjaF9kdHlwZSUzRHRvcmNoLmZsb2F0MTYlMkMlMjB2YXJpYW50JTNEJTIyZnAxNiUyMiUyQyUyMGNvbnRyb2xuZXQlM0Rjb250cm9sbmV0JTBBKS50byhkZXZpY2UpJTBBcGlwZS5zY2hlZHVsZXIlMjAlM0QlMjBkaWZmdXNlcnMuRFBNU29sdmVyTXVsdGlzdGVwU2NoZWR1bGVyLmZyb21fY29uZmlnKHBpcGUuc2NoZWR1bGVyLmNvbmZpZyUyQyUyMHVzZV9rYXJyYXNfc2lnbWFzJTNEVHJ1ZSklMEElMEFjb250cm9sbmV0X291dCUyMCUzRCUyMHBpcGUoJTBBJTIwJTIwJTIwJTIwcHJvbXB0JTNEJTIyaGlnaCUyMHF1YWxpdHklMjBwaG90byUyMG9mJTIwYSUyMHNwb3J0cyUyMGJpa2UlMkMlMjBjaXR5JTIyJTJDJTBBJTIwJTIwJTIwJTIwbmVnYXRpdmVfcHJvbXB0JTNEJTIyJTIyJTJDJTBBJTIwJTIwJTIwJTIwZ3VpZGFuY2Vfc2NhbGUlM0Q2LjUlMkMlMEElMjAlMjAlMjAlMjBudW1faW5mZXJlbmNlX3N0ZXBzJTNEMjUlMkMlMEElMjAlMjAlMjAlMjBpbWFnZSUzRGRlcHRoX2ltYWdlJTJDJTBBJTIwJTIwJTIwJTIwY29udHJvbG5ldF9jb25kaXRpb25pbmdfc2NhbGUlM0QwLjclMkMlMEElMjAlMjAlMjAlMjBjb250cm9sX2d1aWRhbmNlX2VuZCUzRDAuNyUyQyUwQSUyMCUyMCUyMCUyMGdlbmVyYXRvciUzRGdlbmVyYXRvciUyQyUwQSkuaW1hZ2VzJTBBY29udHJvbG5ldF9vdXQlNUIwJTVELnNhdmUoJTIybW90b3JjeWNsZV9jb250cm9sbmV0X291dC5wbmclMjIp",highlighted:`<span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">import</span> diffusers

device = <span class="hljs-string">&quot;cuda&quot;</span>
generator = torch.Generator(device=device).manual_seed(<span class="hljs-number">2024</span>)
image = diffusers.utils.load_image(
    <span class="hljs-string">&quot;https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/diffusers/controlnet_depth_source.png&quot;</span>
)

pipe = diffusers.MarigoldDepthPipeline.from_pretrained(
    <span class="hljs-string">&quot;prs-eth/marigold-depth-v1-1&quot;</span>, torch_dtype=torch.float16, variant=<span class="hljs-string">&quot;fp16&quot;</span>
).to(device)

depth_image = pipe(image, generator=generator).prediction
depth_image = pipe.image_processor.visualize_depth(depth_image, color_map=<span class="hljs-string">&quot;binary&quot;</span>)
depth_image[<span class="hljs-number">0</span>].save(<span class="hljs-string">&quot;motorcycle_controlnet_depth.png&quot;</span>)

controlnet = diffusers.ControlNetModel.from_pretrained(
    <span class="hljs-string">&quot;diffusers/controlnet-depth-sdxl-1.0&quot;</span>, torch_dtype=torch.float16, variant=<span class="hljs-string">&quot;fp16&quot;</span>
).to(device)
pipe = diffusers.StableDiffusionXLControlNetPipeline.from_pretrained(
    <span class="hljs-string">&quot;SG161222/RealVisXL_V4.0&quot;</span>, torch_dtype=torch.float16, variant=<span class="hljs-string">&quot;fp16&quot;</span>, controlnet=controlnet
).to(device)
pipe.scheduler = diffusers.DPMSolverMultistepScheduler.from_config(pipe.scheduler.config, use_karras_sigmas=<span class="hljs-literal">True</span>)

controlnet_out = pipe(
    prompt=<span class="hljs-string">&quot;high quality photo of a sports bike, city&quot;</span>,
    negative_prompt=<span class="hljs-string">&quot;&quot;</span>,
    guidance_scale=<span class="hljs-number">6.5</span>,
    num_inference_steps=<span class="hljs-number">25</span>,
    image=depth_image,
    controlnet_conditioning_scale=<span class="hljs-number">0.7</span>,
    control_guidance_end=<span class="hljs-number">0.7</span>,
    generator=generator,
).images
controlnet_out[<span class="hljs-number">0</span>].save(<span class="hljs-string">&quot;motorcycle_controlnet_out.png&quot;</span>)`,wrap:!1}}),Ge=new T({props:{title:"Quantitative Evaluation",local:"quantitative-evaluation",headingTag:"h2"}}),We=new y({props:{code:"aW1wb3J0JTIwZGlmZnVzZXJzJTBBaW1wb3J0JTIwdG9yY2glMEElMEFkZXZpY2UlMjAlM0QlMjAlMjJjdWRhJTIyJTBBc2VlZCUyMCUzRCUyMDIwMjQlMEElMEFnZW5lcmF0b3IlMjAlM0QlMjB0b3JjaC5HZW5lcmF0b3IoZGV2aWNlJTNEZGV2aWNlKS5tYW51YWxfc2VlZChzZWVkKSUwQXBpcGUlMjAlM0QlMjBkaWZmdXNlcnMuTWFyaWdvbGREZXB0aFBpcGVsaW5lLmZyb21fcHJldHJhaW5lZCglMjJwcnMtZXRoJTJGbWFyaWdvbGQtZGVwdGgtdjEtMSUyMikudG8oZGV2aWNlKSUwQSUwQWltYWdlJTIwJTNEJTIwZGlmZnVzZXJzLnV0aWxzLmxvYWRfaW1hZ2UoJTIyaHR0cHMlM0ElMkYlMkZtYXJpZ29sZG1vbm9kZXB0aC5naXRodWIuaW8lMkZpbWFnZXMlMkZlaW5zdGVpbi5qcGclMjIpJTBBJTBBZGVwdGglMjAlM0QlMjBwaXBlKCUwQSUyMCUyMCUyMCUyMGltYWdlJTJDJTIwJTBBJTIwJTIwJTIwJTIwbnVtX2luZmVyZW5jZV9zdGVwcyUzRDQlMkMlMjAlMjAlMjMlMjBzZXQlMjBhY2NvcmRpbmclMjB0byUyMHRoZSUyMGV2YWx1YXRpb24lMjBwcm90b2NvbCUyMGZyb20lMjB0aGUlMjBwYXBlciUwQSUyMCUyMCUyMCUyMGVuc2VtYmxlX3NpemUlM0QxMCUyQyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMyUyMHNldCUyMGFjY29yZGluZyUyMHRvJTIwdGhlJTIwZXZhbHVhdGlvbiUyMHByb3RvY29sJTIwZnJvbSUyMHRoZSUyMHBhcGVyJTBBJTIwJTIwJTIwJTIwZ2VuZXJhdG9yJTNEZ2VuZXJhdG9yJTJDJTBBKSUwQSUwQSUyMyUyMGV2YWx1YXRlJTIwbWV0cmljcw==",highlighted:`<span class="hljs-keyword">import</span> diffusers
<span class="hljs-keyword">import</span> torch

device = <span class="hljs-string">&quot;cuda&quot;</span>
seed = <span class="hljs-number">2024</span>

generator = torch.Generator(device=device).manual_seed(seed)
pipe = diffusers.MarigoldDepthPipeline.from_pretrained(<span class="hljs-string">&quot;prs-eth/marigold-depth-v1-1&quot;</span>).to(device)

image = diffusers.utils.load_image(<span class="hljs-string">&quot;https://marigoldmonodepth.github.io/images/einstein.jpg&quot;</span>)

depth = pipe(
    image, 
    num_inference_steps=<span class="hljs-number">4</span>,  <span class="hljs-comment"># set according to the evaluation protocol from the paper</span>
    ensemble_size=<span class="hljs-number">10</span>,       <span class="hljs-comment"># set according to the evaluation protocol from the paper</span>
    generator=generator,
)

<span class="hljs-comment"># evaluate metrics</span>`,wrap:!1}}),Be=new T({props:{title:"Using Predictive Uncertainty",local:"using-predictive-uncertainty",headingTag:"h2"}}),Re=new y({props:{code:"aW1wb3J0JTIwZGlmZnVzZXJzJTBBaW1wb3J0JTIwdG9yY2glMEElMEFwaXBlJTIwJTNEJTIwZGlmZnVzZXJzLk1hcmlnb2xkRGVwdGhQaXBlbGluZS5mcm9tX3ByZXRyYWluZWQoJTBBJTIwJTIwJTIwJTIwJTIycHJzLWV0aCUyRm1hcmlnb2xkLWRlcHRoLXYxLTElMjIlMkMlMjB2YXJpYW50JTNEJTIyZnAxNiUyMiUyQyUyMHRvcmNoX2R0eXBlJTNEdG9yY2guZmxvYXQxNiUwQSkudG8oJTIyY3VkYSUyMiklMEElMEFpbWFnZSUyMCUzRCUyMGRpZmZ1c2Vycy51dGlscy5sb2FkX2ltYWdlKCUyMmh0dHBzJTNBJTJGJTJGbWFyaWdvbGRtb25vZGVwdGguZ2l0aHViLmlvJTJGaW1hZ2VzJTJGZWluc3RlaW4uanBnJTIyKSUwQSUwQWRlcHRoJTIwJTNEJTIwcGlwZSglMEElMDlpbWFnZSUyQyUwQSUwOWVuc2VtYmxlX3NpemUlM0QxMCUyQyUyMCUyMCUyMyUyMGFueSUyMG51bWJlciUyMCUzRSUzRCUyMDMlMEElMDlvdXRwdXRfdW5jZXJ0YWludHklM0RUcnVlJTJDJTBBKSUwQSUwQXVuY2VydGFpbnR5JTIwJTNEJTIwcGlwZS5pbWFnZV9wcm9jZXNzb3IudmlzdWFsaXplX3VuY2VydGFpbnR5KGRlcHRoLnVuY2VydGFpbnR5KSUwQXVuY2VydGFpbnR5JTVCMCU1RC5zYXZlKCUyMmVpbnN0ZWluX2RlcHRoX3VuY2VydGFpbnR5LnBuZyUyMik=",highlighted:`<span class="hljs-keyword">import</span> diffusers
<span class="hljs-keyword">import</span> torch

pipe = diffusers.MarigoldDepthPipeline.from_pretrained(
    <span class="hljs-string">&quot;prs-eth/marigold-depth-v1-1&quot;</span>, variant=<span class="hljs-string">&quot;fp16&quot;</span>, torch_dtype=torch.float16
).to(<span class="hljs-string">&quot;cuda&quot;</span>)

image = diffusers.utils.load_image(<span class="hljs-string">&quot;https://marigoldmonodepth.github.io/images/einstein.jpg&quot;</span>)

depth = pipe(
	image,
	ensemble_size=<span class="hljs-number">10</span>,  <span class="hljs-comment"># any number &gt;= 3</span>
	output_uncertainty=<span class="hljs-literal">True</span>,
)

uncertainty = pipe.image_processor.visualize_uncertainty(depth.uncertainty)
uncertainty[<span class="hljs-number">0</span>].save(<span class="hljs-string">&quot;einstein_depth_uncertainty.png&quot;</span>)`,wrap:!1}}),Xe=new T({props:{title:"Conclusion",local:"conclusion",headingTag:"h2"}}),ke=new Es({props:{source:"https://github.com/huggingface/diffusers/blob/main/docs/source/en/using-diffusers/marigold_usage.md"}}),{c(){j=n("meta"),Ke=a(),Le=n("p"),Oe=a(),r(X.$$.fragment),et=a(),V=n("p"),V.innerHTML=_l,tt=a(),k=n("p"),k.textContent=Xl,lt=a(),E=n("p"),E.textContent=Vl,st=a(),z=n("table"),z.innerHTML=kl,at=a(),N=n("p"),N.innerHTML=El,it=a(),U=n("table"),Ee=n("thead"),Ee.innerHTML=zl,Ul=a(),J=n("tbody"),ze=n("tr"),ze.innerHTML=Nl,Gl=a(),Ne=n("tr"),Ne.innerHTML=Hl,Il=a(),He=n("tr"),He.innerHTML=Yl,Wl=a(),v=n("tr"),Ye=n("td"),Ye.innerHTML=Sl,Bl=a(),Se=n("td"),Se.textContent=Al,xl=a(),M=n("td"),Rl=Qe("HyperSim decomposition of an image"),nt=new De(!1),ot=Qe(" is comprised of Albedo"),pt=new De(!1),rt=Qe(", Diffuse shading"),dt=new De(!1),ct=Qe(", and Non-diffuse residual"),mt=new De(!1),ht=Qe(":"),ut=new De(!1),gt=Qe("."),Mt=a(),H=n("p"),H.textContent=Ql,yt=a(),b=n("div"),b.innerHTML=ql,ft=a(),r(Y.$$.fragment),Jt=a(),S=n("p"),S.innerHTML=$l,wt=a(),r(A.$$.fragment),Tt=a(),Q=n("p"),Q.innerHTML=Ll,bt=a(),G=n("div"),G.innerHTML=Fl,Zt=a(),r(q.$$.fragment),jt=a(),$=n("p"),$.innerHTML=Dl,vt=a(),r(L.$$.fragment),Ut=a(),F=n("p"),F.innerHTML=Pl,Gt=a(),Z=n("div"),Z.innerHTML=Kl,It=a(),D=n("p"),D.innerHTML=Ol,Wt=a(),r(P.$$.fragment),Bt=a(),K=n("p"),K.textContent=es,xt=a(),O=n("ul"),O.innerHTML=ts,Rt=a(),ee=n("p"),ee.textContent=ls,Ct=a(),r(te.$$.fragment),_t=a(),le=n("p"),le.textContent=ss,Xt=a(),r(se.$$.fragment),Vt=a(),ae=n("p"),ae.innerHTML=as,kt=a(),ie=n("p"),ie.innerHTML=is,Et=a(),I=n("div"),I.innerHTML=ns,zt=a(),r(ne.$$.fragment),Nt=a(),oe=n("p"),oe.innerHTML=os,Ht=a(),r(pe.$$.fragment),Yt=a(),re=n("p"),re.innerHTML=ps,St=a(),r(de.$$.fragment),At=a(),ce=n("p"),ce.textContent=rs,Qt=a(),r(me.$$.fragment),qt=a(),he=n("p"),he.innerHTML=ds,$t=a(),r(ue.$$.fragment),Lt=a(),r(ge.$$.fragment),Ft=a(),Me=n("p"),Me.innerHTML=cs,Dt=a(),r(ye.$$.fragment),Pt=a(),W=n("div"),W.innerHTML=ms,Kt=a(),fe=n("p"),fe.textContent=hs,Ot=a(),r(Je.$$.fragment),el=a(),we=n("p"),we.textContent=us,tl=a(),B=n("div"),B.innerHTML=gs,ll=a(),Te=n("p"),Te.innerHTML=Ms,sl=a(),r(be.$$.fragment),al=a(),Ze=n("p"),Ze.innerHTML=ys,il=a(),x=n("div"),x.innerHTML=fs,nl=a(),r(je.$$.fragment),ol=a(),ve=n("p"),ve.textContent=Js,pl=a(),r(Ue.$$.fragment),rl=a(),R=n("div"),R.innerHTML=ws,dl=a(),r(Ge.$$.fragment),cl=a(),Ie=n("p"),Ie.innerHTML=Ts,ml=a(),r(We.$$.fragment),hl=a(),r(Be.$$.fragment),ul=a(),xe=n("p"),xe.innerHTML=bs,gl=a(),r(Re.$$.fragment),Ml=a(),C=n("div"),C.innerHTML=Zs,yl=a(),Ce=n("p"),Ce.textContent=js,fl=a(),_e=n("ul"),_e.innerHTML=vs,Jl=a(),r(Xe.$$.fragment),wl=a(),Ve=n("p"),Ve.textContent=Us,Tl=a(),r(ke.$$.fragment),bl=a(),Fe=n("p"),this.h()},l(e){const t=ks("svelte-u9bgzb",document.head);j=o(t,"META",{name:!0,content:!0}),t.forEach(l),Ke=i(e),Le=o(e,"P",{}),qe(Le).forEach(l),Oe=i(e),d(X.$$.fragment,e),et=i(e),V=o(e,"P",{"data-svelte-h":!0}),p(V)!=="svelte-1m1paos"&&(V.innerHTML=_l),tt=i(e),k=o(e,"P",{"data-svelte-h":!0}),p(k)!=="svelte-1bjomdr"&&(k.textContent=Xl),lt=i(e),E=o(e,"P",{"data-svelte-h":!0}),p(E)!=="svelte-d9hh6k"&&(E.textContent=Vl),st=i(e),z=o(e,"TABLE",{"data-svelte-h":!0}),p(z)!=="svelte-1puk2lq"&&(z.innerHTML=kl),at=i(e),N=o(e,"P",{"data-svelte-h":!0}),p(N)!=="svelte-1w30tm5"&&(N.innerHTML=El),it=i(e),U=o(e,"TABLE",{});var jl=qe(U);Ee=o(jl,"THEAD",{"data-svelte-h":!0}),p(Ee)!=="svelte-ubewwm"&&(Ee.innerHTML=zl),Ul=i(jl),J=o(jl,"TBODY",{});var _=qe(J);ze=o(_,"TR",{"data-svelte-h":!0}),p(ze)!=="svelte-ao7el9"&&(ze.innerHTML=Nl),Gl=i(_),Ne=o(_,"TR",{"data-svelte-h":!0}),p(Ne)!=="svelte-9wucso"&&(Ne.innerHTML=Hl),Il=i(_),He=o(_,"TR",{"data-svelte-h":!0}),p(He)!=="svelte-1mu3nd5"&&(He.innerHTML=Yl),Wl=i(_),v=o(_,"TR",{});var Ae=qe(v);Ye=o(Ae,"TD",{"data-svelte-h":!0}),p(Ye)!=="svelte-1u8ffq5"&&(Ye.innerHTML=Sl),Bl=i(Ae),Se=o(Ae,"TD",{"data-svelte-h":!0}),p(Se)!=="svelte-pxwxqa"&&(Se.textContent=Al),xl=i(Ae),M=o(Ae,"TD",{});var f=qe(M);Rl=$e(f,"HyperSim decomposition of an image"),nt=Pe(f,!1),ot=$e(f," is comprised of Albedo"),pt=Pe(f,!1),rt=$e(f,", Diffuse shading"),dt=Pe(f,!1),ct=$e(f,", and Non-diffuse residual"),mt=Pe(f,!1),ht=$e(f,":"),ut=Pe(f,!1),gt=$e(f,"."),f.forEach(l),Ae.forEach(l),_.forEach(l),jl.forEach(l),Mt=i(e),H=o(e,"P",{"data-svelte-h":!0}),p(H)!=="svelte-r6ainx"&&(H.textContent=Ql),yt=i(e),b=o(e,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),p(b)!=="svelte-130z9iz"&&(b.innerHTML=ql),ft=i(e),d(Y.$$.fragment,e),Jt=i(e),S=o(e,"P",{"data-svelte-h":!0}),p(S)!=="svelte-r7f7nt"&&(S.innerHTML=$l),wt=i(e),d(A.$$.fragment,e),Tt=i(e),Q=o(e,"P",{"data-svelte-h":!0}),p(Q)!=="svelte-ydgdqh"&&(Q.innerHTML=Ll),bt=i(e),G=o(e,"DIV",{class:!0,"data-svelte-h":!0}),p(G)!=="svelte-16yoeuw"&&(G.innerHTML=Fl),Zt=i(e),d(q.$$.fragment,e),jt=i(e),$=o(e,"P",{"data-svelte-h":!0}),p($)!=="svelte-ojvvjq"&&($.innerHTML=Dl),vt=i(e),d(L.$$.fragment,e),Ut=i(e),F=o(e,"P",{"data-svelte-h":!0}),p(F)!=="svelte-zakfy7"&&(F.innerHTML=Pl),Gt=i(e),Z=o(e,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),p(Z)!=="svelte-15wm70y"&&(Z.innerHTML=Kl),It=i(e),D=o(e,"P",{"data-svelte-h":!0}),p(D)!=="svelte-112j81b"&&(D.innerHTML=Ol),Wt=i(e),d(P.$$.fragment,e),Bt=i(e),K=o(e,"P",{"data-svelte-h":!0}),p(K)!=="svelte-4kpwil"&&(K.textContent=es),xt=i(e),O=o(e,"UL",{"data-svelte-h":!0}),p(O)!=="svelte-1ryhu3o"&&(O.innerHTML=ts),Rt=i(e),ee=o(e,"P",{"data-svelte-h":!0}),p(ee)!=="svelte-5ngr7b"&&(ee.textContent=ls),Ct=i(e),d(te.$$.fragment,e),_t=i(e),le=o(e,"P",{"data-svelte-h":!0}),p(le)!=="svelte-1gpdgbg"&&(le.textContent=ss),Xt=i(e),d(se.$$.fragment,e),Vt=i(e),ae=o(e,"P",{"data-svelte-h":!0}),p(ae)!=="svelte-1kocoqb"&&(ae.innerHTML=as),kt=i(e),ie=o(e,"P",{"data-svelte-h":!0}),p(ie)!=="svelte-120nvgo"&&(ie.innerHTML=is),Et=i(e),I=o(e,"DIV",{class:!0,"data-svelte-h":!0}),p(I)!=="svelte-nydk8v"&&(I.innerHTML=ns),zt=i(e),d(ne.$$.fragment,e),Nt=i(e),oe=o(e,"P",{"data-svelte-h":!0}),p(oe)!=="svelte-ldmjw6"&&(oe.innerHTML=os),Ht=i(e),d(pe.$$.fragment,e),Yt=i(e),re=o(e,"P",{"data-svelte-h":!0}),p(re)!=="svelte-17orz4u"&&(re.innerHTML=ps),St=i(e),d(de.$$.fragment,e),At=i(e),ce=o(e,"P",{"data-svelte-h":!0}),p(ce)!=="svelte-1qszioo"&&(ce.textContent=rs),Qt=i(e),d(me.$$.fragment,e),qt=i(e),he=o(e,"P",{"data-svelte-h":!0}),p(he)!=="svelte-1o5e3pm"&&(he.innerHTML=ds),$t=i(e),d(ue.$$.fragment,e),Lt=i(e),d(ge.$$.fragment,e),Ft=i(e),Me=o(e,"P",{"data-svelte-h":!0}),p(Me)!=="svelte-3i2mxl"&&(Me.innerHTML=cs),Dt=i(e),d(ye.$$.fragment,e),Pt=i(e),W=o(e,"DIV",{class:!0,"data-svelte-h":!0}),p(W)!=="svelte-etsikn"&&(W.innerHTML=ms),Kt=i(e),fe=o(e,"P",{"data-svelte-h":!0}),p(fe)!=="svelte-3lgzgw"&&(fe.textContent=hs),Ot=i(e),d(Je.$$.fragment,e),el=i(e),we=o(e,"P",{"data-svelte-h":!0}),p(we)!=="svelte-1liveae"&&(we.textContent=us),tl=i(e),B=o(e,"DIV",{class:!0,"data-svelte-h":!0}),p(B)!=="svelte-1k6s96j"&&(B.innerHTML=gs),ll=i(e),Te=o(e,"P",{"data-svelte-h":!0}),p(Te)!=="svelte-o99xnx"&&(Te.innerHTML=Ms),sl=i(e),d(be.$$.fragment,e),al=i(e),Ze=o(e,"P",{"data-svelte-h":!0}),p(Ze)!=="svelte-1dxdmz7"&&(Ze.innerHTML=ys),il=i(e),x=o(e,"DIV",{class:!0,"data-svelte-h":!0}),p(x)!=="svelte-u703tp"&&(x.innerHTML=fs),nl=i(e),d(je.$$.fragment,e),ol=i(e),ve=o(e,"P",{"data-svelte-h":!0}),p(ve)!=="svelte-12oh700"&&(ve.textContent=Js),pl=i(e),d(Ue.$$.fragment,e),rl=i(e),R=o(e,"DIV",{class:!0,"data-svelte-h":!0}),p(R)!=="svelte-bddy4e"&&(R.innerHTML=ws),dl=i(e),d(Ge.$$.fragment,e),cl=i(e),Ie=o(e,"P",{"data-svelte-h":!0}),p(Ie)!=="svelte-1r9j6ij"&&(Ie.innerHTML=Ts),ml=i(e),d(We.$$.fragment,e),hl=i(e),d(Be.$$.fragment,e),ul=i(e),xe=o(e,"P",{"data-svelte-h":!0}),p(xe)!=="svelte-yvw9s0"&&(xe.innerHTML=bs),gl=i(e),d(Re.$$.fragment,e),Ml=i(e),C=o(e,"DIV",{class:!0,"data-svelte-h":!0}),p(C)!=="svelte-a7wlst"&&(C.innerHTML=Zs),yl=i(e),Ce=o(e,"P",{"data-svelte-h":!0}),p(Ce)!=="svelte-1kdua20"&&(Ce.textContent=js),fl=i(e),_e=o(e,"UL",{"data-svelte-h":!0}),p(_e)!=="svelte-41v41f"&&(_e.innerHTML=vs),Jl=i(e),d(Xe.$$.fragment,e),wl=i(e),Ve=o(e,"P",{"data-svelte-h":!0}),p(Ve)!=="svelte-rdb8rm"&&(Ve.textContent=Us),Tl=i(e),d(ke.$$.fragment,e),bl=i(e),Fe=o(e,"P",{}),qe(Fe).forEach(l),this.h()},h(){w(j,"name","hf:doc:metadata"),w(j,"content",Ns),nt.a=ot,pt.a=rt,dt.a=ct,mt.a=ht,ut.a=gt,w(b,"class","flex gap-4"),vl(b,"justify-content","center"),vl(b,"width","100%"),w(G,"class","flex gap-4"),w(Z,"class","flex gap-4"),vl(Z,"justify-content","center"),vl(Z,"width","100%"),w(I,"class","flex gap-4"),w(W,"class","flex gap-4"),w(B,"class","flex gap-4"),w(x,"class","flex gap-4"),w(R,"class","flex gap-4"),w(C,"class","flex gap-4")},m(e,t){g(document.head,j),s(e,Ke,t),s(e,Le,t),s(e,Oe,t),c(X,e,t),s(e,et,t),s(e,V,t),s(e,tt,t),s(e,k,t),s(e,lt,t),s(e,E,t),s(e,st,t),s(e,z,t),s(e,at,t),s(e,N,t),s(e,it,t),s(e,U,t),g(U,Ee),g(U,Ul),g(U,J),g(J,ze),g(J,Gl),g(J,Ne),g(J,Il),g(J,He),g(J,Wl),g(J,v),g(v,Ye),g(v,Bl),g(v,Se),g(v,xl),g(v,M),g(M,Rl),nt.m(Gs,M),g(M,ot),pt.m(Is,M),g(M,rt),dt.m(Ws,M),g(M,ct),mt.m(Bs,M),g(M,ht),ut.m(xs,M),g(M,gt),s(e,Mt,t),s(e,H,t),s(e,yt,t),s(e,b,t),s(e,ft,t),c(Y,e,t),s(e,Jt,t),s(e,S,t),s(e,wt,t),c(A,e,t),s(e,Tt,t),s(e,Q,t),s(e,bt,t),s(e,G,t),s(e,Zt,t),c(q,e,t),s(e,jt,t),s(e,$,t),s(e,vt,t),c(L,e,t),s(e,Ut,t),s(e,F,t),s(e,Gt,t),s(e,Z,t),s(e,It,t),s(e,D,t),s(e,Wt,t),c(P,e,t),s(e,Bt,t),s(e,K,t),s(e,xt,t),s(e,O,t),s(e,Rt,t),s(e,ee,t),s(e,Ct,t),c(te,e,t),s(e,_t,t),s(e,le,t),s(e,Xt,t),c(se,e,t),s(e,Vt,t),s(e,ae,t),s(e,kt,t),s(e,ie,t),s(e,Et,t),s(e,I,t),s(e,zt,t),c(ne,e,t),s(e,Nt,t),s(e,oe,t),s(e,Ht,t),c(pe,e,t),s(e,Yt,t),s(e,re,t),s(e,St,t),c(de,e,t),s(e,At,t),s(e,ce,t),s(e,Qt,t),c(me,e,t),s(e,qt,t),s(e,he,t),s(e,$t,t),c(ue,e,t),s(e,Lt,t),c(ge,e,t),s(e,Ft,t),s(e,Me,t),s(e,Dt,t),c(ye,e,t),s(e,Pt,t),s(e,W,t),s(e,Kt,t),s(e,fe,t),s(e,Ot,t),c(Je,e,t),s(e,el,t),s(e,we,t),s(e,tl,t),s(e,B,t),s(e,ll,t),s(e,Te,t),s(e,sl,t),c(be,e,t),s(e,al,t),s(e,Ze,t),s(e,il,t),s(e,x,t),s(e,nl,t),c(je,e,t),s(e,ol,t),s(e,ve,t),s(e,pl,t),c(Ue,e,t),s(e,rl,t),s(e,R,t),s(e,dl,t),c(Ge,e,t),s(e,cl,t),s(e,Ie,t),s(e,ml,t),c(We,e,t),s(e,hl,t),c(Be,e,t),s(e,ul,t),s(e,xe,t),s(e,gl,t),c(Re,e,t),s(e,Ml,t),s(e,C,t),s(e,yl,t),s(e,Ce,t),s(e,fl,t),s(e,_e,t),s(e,Jl,t),c(Xe,e,t),s(e,wl,t),s(e,Ve,t),s(e,Tl,t),c(ke,e,t),s(e,bl,t),s(e,Fe,t),Zl=!0},p:Cs,i(e){Zl||(m(X.$$.fragment,e),m(Y.$$.fragment,e),m(A.$$.fragment,e),m(q.$$.fragment,e),m(L.$$.fragment,e),m(P.$$.fragment,e),m(te.$$.fragment,e),m(se.$$.fragment,e),m(ne.$$.fragment,e),m(pe.$$.fragment,e),m(de.$$.fragment,e),m(me.$$.fragment,e),m(ue.$$.fragment,e),m(ge.$$.fragment,e),m(ye.$$.fragment,e),m(Je.$$.fragment,e),m(be.$$.fragment,e),m(je.$$.fragment,e),m(Ue.$$.fragment,e),m(Ge.$$.fragment,e),m(We.$$.fragment,e),m(Be.$$.fragment,e),m(Re.$$.fragment,e),m(Xe.$$.fragment,e),m(ke.$$.fragment,e),Zl=!0)},o(e){h(X.$$.fragment,e),h(Y.$$.fragment,e),h(A.$$.fragment,e),h(q.$$.fragment,e),h(L.$$.fragment,e),h(P.$$.fragment,e),h(te.$$.fragment,e),h(se.$$.fragment,e),h(ne.$$.fragment,e),h(pe.$$.fragment,e),h(de.$$.fragment,e),h(me.$$.fragment,e),h(ue.$$.fragment,e),h(ge.$$.fragment,e),h(ye.$$.fragment,e),h(Je.$$.fragment,e),h(be.$$.fragment,e),h(je.$$.fragment,e),h(Ue.$$.fragment,e),h(Ge.$$.fragment,e),h(We.$$.fragment,e),h(Be.$$.fragment,e),h(Re.$$.fragment,e),h(Xe.$$.fragment,e),h(ke.$$.fragment,e),Zl=!1},d(e){e&&(l(Ke),l(Le),l(Oe),l(et),l(V),l(tt),l(k),l(lt),l(E),l(st),l(z),l(at),l(N),l(it),l(U),l(Mt),l(H),l(yt),l(b),l(ft),l(Jt),l(S),l(wt),l(Tt),l(Q),l(bt),l(G),l(Zt),l(jt),l($),l(vt),l(Ut),l(F),l(Gt),l(Z),l(It),l(D),l(Wt),l(Bt),l(K),l(xt),l(O),l(Rt),l(ee),l(Ct),l(_t),l(le),l(Xt),l(Vt),l(ae),l(kt),l(ie),l(Et),l(I),l(zt),l(Nt),l(oe),l(Ht),l(Yt),l(re),l(St),l(At),l(ce),l(Qt),l(qt),l(he),l($t),l(Lt),l(Ft),l(Me),l(Dt),l(Pt),l(W),l(Kt),l(fe),l(Ot),l(el),l(we),l(tl),l(B),l(ll),l(Te),l(sl),l(al),l(Ze),l(il),l(x),l(nl),l(ol),l(ve),l(pl),l(rl),l(R),l(dl),l(cl),l(Ie),l(ml),l(hl),l(ul),l(xe),l(gl),l(Ml),l(C),l(yl),l(Ce),l(fl),l(_e),l(Jl),l(wl),l(Ve),l(Tl),l(bl),l(Fe)),l(j),u(X,e),u(Y,e),u(A,e),u(q,e),u(L,e),u(P,e),u(te,e),u(se,e),u(ne,e),u(pe,e),u(de,e),u(me,e),u(ue,e),u(ge,e),u(ye,e),u(Je,e),u(be,e),u(je,e),u(Ue,e),u(Ge,e),u(We,e),u(Be,e),u(Re,e),u(Xe,e),u(ke,e)}}}const Ns='{"title":"Marigold Computer Vision","local":"marigold-computer-vision","sections":[{"title":"Depth Prediction","local":"depth-prediction","sections":[],"depth":2},{"title":"Surface Normals Estimation","local":"surface-normals-estimation","sections":[],"depth":2},{"title":"Intrinsic Image Decomposition","local":"intrinsic-image-decomposition","sections":[],"depth":2},{"title":"Speeding up inference","local":"speeding-up-inference","sections":[],"depth":2},{"title":"Maximizing Precision and Ensembling","local":"maximizing-precision-and-ensembling","sections":[],"depth":2},{"title":"Frame-by-frame Video Processing with Temporal Consistency","local":"frame-by-frame-video-processing-with-temporal-consistency","sections":[],"depth":2},{"title":"Marigold for ControlNet","local":"marigold-for-controlnet","sections":[],"depth":2},{"title":"Quantitative Evaluation","local":"quantitative-evaluation","sections":[],"depth":2},{"title":"Using Predictive Uncertainty","local":"using-predictive-uncertainty","sections":[],"depth":2},{"title":"Conclusion","local":"conclusion","sections":[],"depth":2}],"depth":1}';function Hs(Cl){return _s(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class qs extends Xs{constructor(j){super(),Vs(this,j,Hs,zs,Rs,{})}}export{qs as component};
